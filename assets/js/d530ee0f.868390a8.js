"use strict";(self.webpackChunksubway_builder_modded_docs=self.webpackChunksubway_builder_modded_docs||[]).push([[991],{3244(e,n,i){i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>d,default:()=>c,frontMatter:()=>s,metadata:()=>t,toc:()=>r});const t=JSON.parse('{"id":"maps/legacy-map-installation-guide","title":"Map Installation Guide (Legacy)","description":"Before the Map Manager was developed, the serve method was used. It was more complex and differed","source":"@site/docs/maps/legacy-map-installation-guide.mdx","sourceDirName":"maps","slug":"/maps/legacy-map-installation-guide","permalink":"/wiki/maps/legacy-map-installation-guide","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"id":"legacy-map-installation-guide","title":"Map Installation Guide (Legacy)"},"sidebar":"docs","previous":{"title":"Map Installation Guide","permalink":"/wiki/maps/map-installation-guide"},"next":{"title":"Making Custom Maps","permalink":"/wiki/maps/making-custom-maps"}}');var a=i(6070),o=i(1753);const s={id:"legacy-map-installation-guide",title:"Map Installation Guide (Legacy)"},d=void 0,l={},r=[{value:"Step 1 - Installing the Map Manager",id:"installing-the-map-manager",level:2},{value:"Step 2 - Extracting the Files",id:"extracting-the-files",level:2},{value:"Step 3 - Zipping the Files",id:"zipping-the-files",level:2},{value:"Step 4 - Adding the Map",id:"adding-the-map",level:2},{value:"Step 5 - Launching Subway Builder",id:"launching-subway-builder",level:2}];function h(e){const n={a:"a",admonition:"admonition",blockquote:"blockquote",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(n.p,{children:["Before the Map Manager was developed, the ",(0,a.jsx)(n.code,{children:"serve"})," method was used. It was more complex and differed\nfrom map to map, but we can easily extract the files we need and port the map to the Map Manager."]}),"\n",(0,a.jsx)(n.h2,{id:"installing-the-map-manager",children:"Step 1 - Installing the Map Manager"}),"\n",(0,a.jsxs)(n.p,{children:["Download the latest release of the Map Manager at\n",(0,a.jsx)(n.a,{href:"https://github.com/Subway-Builder-Modded/subwaybuilder-patcher/releases",children:"https://github.com/Subway-Builder-Modded/subwaybuilder-patcher/releases"}),". To download, click on the\nversion that corresponds to your operating system."]}),"\n",(0,a.jsx)("img",{width:"1000",alt:"image",src:"/images/map-manager-download.png"}),"\n",(0,a.jsx)(n.admonition,{type:"note",children:(0,a.jsxs)(n.p,{children:["For Windows, you want the ",(0,a.jsx)(n.code,{children:".exe"})," file. For Linux, you want the ",(0,a.jsx)(n.code,{children:".zip"})," file. For MacOS, use\nthe ",(0,a.jsx)(n.code,{children:"arm64.dmg"})," file if your Mac has an Apple Silicon Chip (e.g. M1, M2, M3, etc.) and the ",(0,a.jsx)(n.code,{children:"x64.dmg"}),"\nfile if your Mac has an Intel chip. As a rule of thumb, Macs newer then around 2021 tend to have\nApple Silicon Chips and older models tend to have Intel chips, but double-check as there are\nexceptions."]})}),"\n",(0,a.jsxs)(n.admonition,{type:"warning",children:[(0,a.jsxs)(n.p,{children:["On MacOS, the .dmg installer is likely to be quarantined. To run the installer, open a\nterminal in the folder where you've downloaded the installer to, then run\n",(0,a.jsx)(n.code,{children:"xattr -d com.apple.quarantine {INSTALLER_FILENAME}"}),". For example, when downloading version 0.2.7\nfor an ARM Mac, you would run\n",(0,a.jsx)(n.code,{children:"xattr -d com.apple.quarantine Subway.Builder.Map.Manager-0.2.7-arm64.dmg"}),"."]}),(0,a.jsx)(n.p,{children:"In addition, the Library folder containing the metro-maker4 folder may be hidden by default. To\nsolve this, open Finder and open the Home folder, then select View -> Show View Options -> Show\nLibrary Folder."})]}),"\n",(0,a.jsxs)(n.p,{children:["After that, install the app as you normally would any other app. Once the installer is finished,\nlaunch the app and run through the setup process, selecting your game executable location and your\n",(0,a.jsx)(n.code,{children:"metro-maker4"})," folder. At this point it is safe to delete the ZIP, the installer, and any other\nfiles that you may have downloaded."]}),"\n",(0,a.jsx)("img",{width:"1200",alt:"image",src:"/images/map-manager-welcome.png"}),"\n",(0,a.jsx)(n.h2,{id:"extracting-the-files",children:"Step 2 - Extracting the Files"}),"\n",(0,a.jsx)(n.p,{children:"Now, we need to extract the files we need from the map that you downloaded. We will need 6 files in\ntotal:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"XXX.pmtiles"})," (",(0,a.jsx)(n.code,{children:"XXX"})," is your city code; e.g. ",(0,a.jsx)(n.code,{children:"MIA"})," for Miami)"]}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.code,{children:"demand_data.json"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.code,{children:"buildings_index.json"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.code,{children:"roads.geojson"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.code,{children:"runways_taxiways.geojson"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.code,{children:"config.json"})}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"The first one is easy. In the map that you downloaded, search for the XXX.pmtiles file. It's\nsomewhere in the directory, either in the root or inside of a folder. For now, create a temporary\nworking folder so that we can store our 6 files."}),"\n",(0,a.jsxs)(n.p,{children:["The next 4 require a little more work. You should be able to find all of the files relatively\neasily, however they are all in their compressed forms (they end in ",(0,a.jsx)(n.code,{children:".gz"}),"). For this, we will need\nto extract them as an archive."]}),"\n",(0,a.jsx)(n.admonition,{type:"tip",children:(0,a.jsxs)(n.p,{children:["On Windows and Linux, you can use ",(0,a.jsx)(n.a,{href:"https://www.7-zip.org/download.html",children:"7-Zip"})," to extract the\n",(0,a.jsx)(n.code,{children:".gz"})," archive. MacOS natively supports unzipping gzip compressed archives, meaning you can just\nclick on it to extract it."]})}),"\n",(0,a.jsxs)(n.p,{children:["Inside, you should see a single file. If you are in the ",(0,a.jsx)(n.code,{children:"demand_data.json.gz"})," archive, you should\nsee ",(0,a.jsx)(n.code,{children:"demand_data.json"})," inside, and the same goes for the other 3 archives. Extract all 4 of these\nfiles and place them in our temporary working folder. Some maps have duplicate data files throughout\ntheir directory. It doesn't matter which one you choose, as they're all the same."]}),"\n",(0,a.jsxs)(n.p,{children:["The last file that we need is ",(0,a.jsx)(n.code,{children:"config.json"}),". This one is the most difficult. For this, we need a few\nthings. Firstly, create a new file and call it ",(0,a.jsx)(n.code,{children:"config.json"}),"."]}),"\n",(0,a.jsx)(n.admonition,{type:"tip",children:(0,a.jsxs)(n.p,{children:["Make sure it's a ",(0,a.jsx)(n.code,{children:".json"})," file. Google how to enable file name extensions on your operating\nsystem if the file type doesn't say ",(0,a.jsx)(n.code,{children:"JSON File"}),"."]})}),"\n",(0,a.jsxs)(n.p,{children:["Inside ",(0,a.jsx)(n.code,{children:"config.json"}),", paste this template:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:'{\n  "name": "Boise",\n  "code": "BOI",\n  "description": "Build a rapid transit network for one of America`s fastest growing cities.",\n  "population": 329866,\n  "initialViewState": {\n    "zoom": 13,\n    "latitude": 43.617499,\n    "longitude": -116.245394,\n    "bearing": 0\n  },\n  "creator": "muffintime",\n  "version": "2.1.0"\n}\n'})}),"\n",(0,a.jsxs)(n.p,{children:["We need to edit this data so that it matches our map. In the directory of your map, there should be\na ",(0,a.jsx)(n.code,{children:".js"})," file, most commonly ",(0,a.jsx)(n.code,{children:"index.js"}),". Inside that file, you will see something that looks very\nsimilar to our template."]}),"\n",(0,a.jsx)("img",{width:"1097",alt:"image",src:"/images/city-data.png"}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsxs)(n.p,{children:["This is inside of the ",(0,a.jsx)(n.code,{children:"index.js"})," file of the Canadian Cities Map Pack."]}),"\n"]}),"\n",(0,a.jsx)(n.admonition,{type:"tip",children:(0,a.jsxs)(n.p,{children:["If your directory has multiple ",(0,a.jsx)(n.code,{children:".js"})," files, check all of them. One of them has the data that\nyou need."]})}),"\n",(0,a.jsx)(n.p,{children:"From this file, we can get:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.code,{children:"name"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.code,{children:"code"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.code,{children:"description"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.code,{children:"population"})}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"intialViewState"})," (and all of its arguments)"]}),"\n"]}),"\n",(0,a.jsx)(n.admonition,{type:"note",children:(0,a.jsxs)(n.p,{children:["If your data does not include ",(0,a.jsx)(n.code,{children:"initialViewState"}),", you can put 12 or 13 for ",(0,a.jsx)(n.code,{children:"zoom"})," and 0 for\n",(0,a.jsx)(n.code,{children:"bearing"}),". For ",(0,a.jsx)(n.code,{children:"latitude"})," and ",(0,a.jsx)(n.code,{children:"longitude"}),", you can pick any number inside your bbox coordinate range\n(the ",(0,a.jsx)(n.code,{children:"latitude"})," corresponds to the ",(0,a.jsx)(n.strong,{children:"2nd"})," and ",(0,a.jsx)(n.strong,{children:"4th"})," numbers and the ",(0,a.jsx)(n.code,{children:"longitude"})," corresponds to\nthe ",(0,a.jsx)(n.strong,{children:"1st"})," and the ",(0,a.jsx)(n.strong,{children:"3rd"}),".) In the Toronto example shown above, we could use 44.0 and -79.0 for\n",(0,a.jsx)(n.code,{children:"latitude"})," and ",(0,a.jsx)(n.code,{children:"longitude"})," respectively."]})}),"\n",(0,a.jsxs)(n.p,{children:["The last 2 things that we need, the ",(0,a.jsx)(n.code,{children:"creator"})," and ",(0,a.jsx)(n.code,{children:"version"}),", can both be found in ",(0,a.jsx)(n.code,{children:"manifest.json"}),",\nwhich every project has. Once you get everything that you need for your config.json, ensure you have\nall 6 files. After that, you're ready to move on to the next step."]}),"\n",(0,a.jsx)(n.admonition,{type:"important",children:(0,a.jsxs)(n.p,{children:["While not required, if you plan on sharing this ported map, please include the\n",(0,a.jsx)(n.code,{children:"creator"}),". This ensures that the original creators still get credit for the maps that they made."]})}),"\n",(0,a.jsx)(n.h2,{id:"zipping-the-files",children:"Step 3 - Zipping the Files"}),"\n",(0,a.jsxs)(n.p,{children:["Now that we have all 6 files, we need to package them into a ",(0,a.jsx)(n.code,{children:".zip"}),". This can easily be done on\nWindows or Linux natively or using ",(0,a.jsx)(n.a,{href:"https://www.7-zip.org/download.html",children:"7-Zip"}),", or on MacOS by\nselecting ",(0,a.jsx)(n.code,{children:"Compress"}),". Once you have a ",(0,a.jsx)(n.code,{children:".zip"})," file, you're essentially done porting the mod and the\nonly thing left to do is to import it into the game to play it."]}),"\n",(0,a.jsx)(n.h2,{id:"adding-the-map",children:"Step 4 - Adding the Map"}),"\n",(0,a.jsxs)(n.p,{children:["To install a map, simply click on the ",(0,a.jsx)(n.code,{children:"ADD A MAP"})," button and import the ZIP file that you downloaded\ncontaining your map. Once that is finished, you should see the map name, the creator, and the\nversion appear on the screen."]}),"\n",(0,a.jsx)("img",{width:"1200",alt:"image",src:"/images/map-manager-home.png"}),"\n",(0,a.jsx)(n.h2,{id:"launching-subway-builder",children:"Step 5 - Launching Subway Builder"}),"\n",(0,a.jsxs)(n.p,{children:["Once you have added all of your maps, you can launch the game using ",(0,a.jsx)(n.code,{children:"START GAME"}),". This is how you\nwill launch the game from now on. In-game, your maps will appear under the ",(0,a.jsx)(n.code,{children:"CUSTOM"})," tab, and they\nare ready to be played!"]}),"\n",(0,a.jsx)(n.admonition,{type:"important",children:(0,a.jsx)(n.p,{children:"Due to the way the game currently works, you must launch the game via the Map Manager\nevery time you want to play a custom map. If you do not launch the game using the Map Manager,\nbuildings and water will not appear ingame."})})]})}function c(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(h,{...e})}):h(e)}},1753(e,n,i){i.d(n,{R:()=>s,x:()=>d});var t=i(758);const a={},o=t.createContext(a);function s(e){const n=t.useContext(o);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:s(e.components),t.createElement(o.Provider,{value:n},e.children)}}}]);