"use strict";(self.webpackChunksubway_builder_modded_docs=self.webpackChunksubway_builder_modded_docs||[]).push([[795],{4700(e,n,d){d.r(n),d.d(n,{assets:()=>l,contentTitle:()=>c,default:()=>h,frontMatter:()=>r,metadata:()=>t,toc:()=>o});const t=JSON.parse('{"id":"type-reference","title":"Type Reference","description":"The template includes full TypeScript type definitions for the Subway Builder Modding API v1.0.0.","source":"@site/modding-docs/type-reference.mdx","sourceDirName":".","slug":"/type-reference","permalink":"/modding-docs/type-reference","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"id":"type-reference","title":"Type Reference"},"sidebar":"docs","previous":{"title":"Debugging","permalink":"/modding-docs/debugging"}}');var i=d(6070),s=d(1753);const r={id:"type-reference",title:"Type Reference"},c=void 0,l={},o=[{value:"File Structure",id:"file-structure",level:2},{value:"How It Works",id:"how-it-works",level:2},{value:"Key Types at a Glance",id:"key-types-at-a-glance",level:2},{value:"Game Entities",id:"game-entities",level:3},{value:"Core Primitives",id:"core-primitives",level:3},{value:"UI Types",id:"ui-types",level:3},{value:"Extending Types",id:"extending-types",level:2},{value:"Official Documentation",id:"official-documentation",level:2}];function a(e){const n={a:"a",admonition:"admonition",code:"code",del:"del",h2:"h2",h3:"h3",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"The template includes full TypeScript type definitions for the Subway Builder Modding API v1.0.0.\nHere's how they're organized."}),"\n",(0,i.jsx)(n.h2,{id:"file-structure",children:"File Structure"}),"\n",(0,i.jsxs)(n.p,{children:["Types are split across multiple ",(0,i.jsx)(n.code,{children:".d.ts"})," files in ",(0,i.jsx)(n.code,{children:"src/types/"}),", grouped by API namespace:"]}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"File"}),(0,i.jsx)(n.th,{children:"What it covers"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"api.d.ts"})}),(0,i.jsxs)(n.td,{children:["The main ",(0,i.jsx)(n.code,{children:"ModdingAPI"})," interface \u2014 ties everything together"]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"index.d.ts"})}),(0,i.jsxs)(n.td,{children:["Re-exports all types + declares ",(0,i.jsx)(n.code,{children:"window.SubwayBuilderAPI"})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"core.d.ts"})}),(0,i.jsxs)(n.td,{children:["Primitives: ",(0,i.jsx)(n.code,{children:"Coordinate"}),", ",(0,i.jsx)(n.code,{children:"BoundingBox"}),", ",(0,i.jsx)(n.code,{children:"GameSpeed"}),", ",(0,i.jsx)(n.code,{children:"BuildType"}),", ",(0,i.jsx)(n.code,{children:"ElevationType"})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"game-state.d.ts"})}),(0,i.jsxs)(n.td,{children:["Entity types: ",(0,i.jsx)(n.code,{children:"Station"}),", ",(0,i.jsx)(n.code,{children:"Track"}),", ",(0,i.jsx)(n.code,{children:"Train"}),", ",(0,i.jsx)(n.code,{children:"Route"}),", ",(0,i.jsx)(n.code,{children:"DemandData"}),", ridership types"]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"game-constants.d.ts"})}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"GameConstants"}),", ",(0,i.jsx)(n.code,{children:"ConstructionCosts"}),", ",(0,i.jsx)(n.code,{children:"HighSlopeSpeedMultiplier"})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"game-actions.d.ts"})}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"Bond"}),", ",(0,i.jsx)(n.code,{children:"BondType"}),", ",(0,i.jsx)(n.code,{children:"BondResult"})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.del,{children:(0,i.jsx)(n.code,{children:"build.d.ts"})})}),(0,i.jsx)(n.td,{children:(0,i.jsxs)(n.del,{children:["Build automation: ",(0,i.jsx)(n.code,{children:"BlueprintTrackInput"}),", ",(0,i.jsx)(n.code,{children:"PlaceBlueprintResult"}),", ",(0,i.jsx)(n.code,{children:"CreateRouteOptions"}),", etc."]})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"ui.d.ts"})}),(0,i.jsxs)(n.td,{children:["UI system: ",(0,i.jsx)(n.code,{children:"UIPlacement"}),", button/toggle/slider/panel option types"]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"cities.d.ts"})}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"City"}),", ",(0,i.jsx)(n.code,{children:"CityConfig"}),", ",(0,i.jsx)(n.code,{children:"CityTab"}),", ",(0,i.jsx)(n.code,{children:"CityDataFiles"}),", ",(0,i.jsx)(n.code,{children:"ViewState"})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"trains.d.ts"})}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"TrainTypeConfig"}),", ",(0,i.jsx)(n.code,{children:"TrainTypeStats"})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"stations.d.ts"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"StationTypeConfig"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"map.d.ts"})}),(0,i.jsxs)(n.td,{children:["Map types: ",(0,i.jsx)(n.code,{children:"MapSource"}),", ",(0,i.jsx)(n.code,{children:"MapLayer"}),", ",(0,i.jsx)(n.code,{children:"TileURLOverride"}),", ",(0,i.jsx)(n.code,{children:"RoutingServiceOverride"})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"career.d.ts"})}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"MissionConfig"}),", ",(0,i.jsx)(n.code,{children:"StarConfig"}),", ",(0,i.jsx)(n.code,{children:"CareerMetrics"}),", ",(0,i.jsx)(n.code,{children:"CareerOperators"})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"content-templates.d.ts"})}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"NewspaperTemplate"}),", ",(0,i.jsx)(n.code,{children:"TweetTemplate"})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"pop-timing.d.ts"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"CommuteTimeRange"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.del,{children:(0,i.jsx)(n.code,{children:"storage.d.ts"})})}),(0,i.jsx)(n.td,{children:(0,i.jsxs)(n.del,{children:["Mod storage: ",(0,i.jsx)(n.code,{children:"set"}),", ",(0,i.jsx)(n.code,{children:"get"}),", ",(0,i.jsx)(n.code,{children:"delete"}),", and ",(0,i.jsx)(n.code,{children:"keys"})," methods for persistent mod data storage"]})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"i18n.d.ts"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"I18nAPI"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"utils.d.ts"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"RechartsComponents"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"schemas.d.ts"})}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"GameSchemas"})," (Zod validation schemas)"]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"electron.d.ts"})}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"ElectronAPI"}),", ",(0,i.jsx)(n.code,{children:"ElectronAPIExtended"})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"manifest.d.ts"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"ModManifest"})})]})]})]}),"\n",(0,i.jsx)(n.admonition,{type:"warning",children:(0,i.jsx)(n.p,{children:"The build/storage API types are listed on the official API documentation but are\ncurrently unusable at runtime."})}),"\n",(0,i.jsx)(n.h2,{id:"how-it-works",children:"How It Works"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"index.d.ts"})," re-exports everything and declares the global ",(0,i.jsx)(n.code,{children:"Window"})," interface:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"declare global {\n  interface Window {\n    SubwayBuilderAPI: ModdingAPI;\n    electron?: ElectronAPI;\n    electronAPI?: ElectronAPIExtended;\n  }\n}\n"})}),"\n",(0,i.jsxs)(n.p,{children:["This gives you full autocomplete when you type ",(0,i.jsx)(n.code,{children:"window.SubwayBuilderAPI."})," in your editor."]}),"\n",(0,i.jsx)(n.h2,{id:"key-types-at-a-glance",children:"Key Types at a Glance"}),"\n",(0,i.jsx)(n.h3,{id:"game-entities",children:"Game Entities"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"interface Station {\n  id: string;\n  name: string;\n  coords: [number, number]; // [longitude, latitude]\n  trackIds: string[];\n  routeIds: string[];\n  nearbyStations: NearbyStation[];\n  buildType: string;\n  createdAt: number;\n  // ...\n}\n\ninterface Track {\n  id: string;\n  coords: [number, number][]; // Start and end points\n  trackType: string; // 'heavy-metro', 'light-metro', etc.\n  startElevation: number;\n  endElevation: number;\n  length: number;\n  // ...\n}\n\ninterface Route {\n  id: string;\n  bullet: string; // Display label ('A', '1', etc.)\n  color: string; // Hex color\n  stations: RouteStation[];\n  trainIds: string[];\n  // ...\n}\n\ninterface Train {\n  id: string;\n  routeId: string;\n  position: Coordinate;\n  speed: number;\n  // ...\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"core-primitives",children:"Core Primitives"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"type Coordinate = [number, number]; // [longitude, latitude]\ntype BoundingBox = [number, number, number, number]; // [minLng, minLat, maxLng, maxLat]\ntype GameSpeed = 'slow' | 'normal' | 'fast' | 'ultrafast';\ntype BuildType = 'blueprint' | 'built';\n"})}),"\n",(0,i.jsx)(n.h3,{id:"ui-types",children:"UI Types"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"type UIPlacement =\n  | 'settings-menu'\n  | 'escape-menu'\n  | 'escape-menu-buttons'\n  | 'main-menu'\n  | 'bottom-bar'\n  | 'top-bar'\n  | 'debug-panel'\n  | 'menu-items'\n  | 'pause-menu'\n  | 'debug';\n\ntype NotificationType = 'success' | 'error' | 'info' | 'warning';\n"})}),"\n",(0,i.jsx)(n.h2,{id:"extending-types",children:"Extending Types"}),"\n",(0,i.jsxs)(n.p,{children:["If you need to extend the API types (e.g., adding fields you've discovered at runtime), you can use\nTypeScript declaration merging in your own ",(0,i.jsx)(n.code,{children:".d.ts"})," file:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"// src/types/my-extensions.d.ts\ndeclare module './game-state' {\n  interface Station {\n    myCustomField?: string;\n  }\n}\n"})}),"\n",(0,i.jsx)(n.h2,{id:"official-documentation",children:"Official Documentation"}),"\n",(0,i.jsxs)(n.p,{children:["For the most up-to-date API reference, see the\n",(0,i.jsx)(n.a,{href:"https://www.subwaybuilder.com/docs/v1.0.0",children:"official Subway Builder modding docs"}),"."]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}},1753(e,n,d){d.d(n,{R:()=>r,x:()=>c});var t=d(758);const i={},s=t.createContext(i);function r(e){const n=t.useContext(s);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),t.createElement(s.Provider,{value:n},e.children)}}}]);