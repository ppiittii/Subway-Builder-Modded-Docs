"use strict";(self.webpackChunksubway_builder_modded_docs=self.webpackChunksubway_builder_modded_docs||[]).push([[880],{5695(e,n,d){d.r(n),d.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>r,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"react-components","title":"Componentes de React","description":"Los mods de Subway Builder pueden renderizar UI personalizada usando React. El juego proporciona","source":"@site/i18n/es/docusaurus-plugin-content-docs-modding-docs/current/react-components.mdx","sourceDirName":".","slug":"/react-components","permalink":"/es/modding-docs/react-components","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"id":"react-components","title":"Componentes de React"},"sidebar":"docs","previous":{"title":"Patrones Comunes","permalink":"/es/modding-docs/common-patterns"},"next":{"title":"Depuraci\xf3n","permalink":"/es/modding-docs/debugging"}}');var t=d(6070),i=d(1753);const r={id:"react-components",title:"Componentes de React"},o=void 0,c={},a=[{value:"C\xf3mo funciona el React Shim",id:"how-the-react-shim-works",level:2},{value:"Uso de Componentes de UI del Juego",id:"using-game-ui-components",level:2},{value:"Componentes Disponibles",id:"available-components",level:3},{value:"Ejemplo de Button",id:"button-example",level:3},{value:"Ejemplo de Card",id:"card-example",level:3},{value:"Uso de Iconos Lucide",id:"using-lucide-icons",level:2},{value:"Uso de Recharts",id:"using-recharts",level:2},{value:"Componentes de Gr\xe1ficos Disponibles",id:"available-chart-components",level:3},{value:"Estilos con Tailwind",id:"styling-with-tailwind",level:2},{value:"Consejos para Floating Panels",id:"floating-panel-tips",level:2},{value:"Registrar Componentes Personalizados en Ubicaciones",id:"registering-custom-components-at-placements",level:2}];function l(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.p,{children:"Los mods de Subway Builder pueden renderizar UI personalizada usando React. El juego proporciona\nReact en tiempo de ejecuci\xf3n \u2014 tu mod no necesita incluirlo en el bundle."}),"\n",(0,t.jsx)(n.h2,{id:"how-the-react-shim-works",children:"C\xf3mo funciona el React Shim"}),"\n",(0,t.jsxs)(n.p,{children:["La plantilla incluye un React shim en ",(0,t.jsx)(n.code,{children:"src/types/react.ts"})," que obtiene React desde la API del juego:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"const React = window.SubwayBuilderAPI.utils.React;\nexport default React;\nexport const { useState, useEffect, useCallback, useMemo, useRef } = React;\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Vite est\xe1 configurado para redirigir todos los imports de ",(0,t.jsx)(n.code,{children:"react"})," a este shim, as\xed que puedes\nescribir React est\xe1ndar:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:"import { useState, useEffect } from 'react';\n"})}),"\n",(0,t.jsx)(n.p,{children:"Esto simplemente funciona \u2014 el import se redirige al shim en tiempo de compilaci\xf3n y, en tiempo de\nejecuci\xf3n, utiliza la instancia de React del juego."}),"\n",(0,t.jsx)(n.h2,{id:"using-game-ui-components",children:"Uso de Componentes de UI del Juego"}),"\n",(0,t.jsx)(n.p,{children:"El juego expone un conjunto de componentes de UI con estilos. Accede a ellos desde la API:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:"const api = window.SubwayBuilderAPI;\n\n// Haz cast a any ya que los componentes funcionan en tiempo de ejecuci\xf3n pero no tienen tipos estrictos para sus props\nconst { Button, Card, CardHeader, CardTitle, CardContent } = api.utils.components as Record<\n  string,\n  React.ComponentType<any>\n>;\n"})}),"\n",(0,t.jsx)(n.h3,{id:"available-components",children:"Componentes Disponibles"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Componente"}),(0,t.jsx)(n.th,{children:"Descripci\xf3n"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"Button"})}),(0,t.jsx)(n.td,{children:"Bot\xf3n est\xe1ndar con soporte de variantes"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"Card"})}),(0,t.jsx)(n.td,{children:"Tarjeta contenedora"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"CardHeader"})}),(0,t.jsx)(n.td,{children:"Secci\xf3n de encabezado de la tarjeta"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"CardTitle"})}),(0,t.jsx)(n.td,{children:"Texto del t\xedtulo de la tarjeta"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"CardContent"})}),(0,t.jsx)(n.td,{children:"Contenido principal de la tarjeta"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"CardDescription"})}),(0,t.jsx)(n.td,{children:"Texto descriptivo de la tarjeta"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"Switch"})}),(0,t.jsx)(n.td,{children:"Interruptor de activaci\xf3n"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"Slider"})}),(0,t.jsx)(n.td,{children:"Control deslizante de rango"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"Label"})}),(0,t.jsx)(n.td,{children:"Etiqueta de formulario"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"Input"})}),(0,t.jsx)(n.td,{children:"Campo de texto"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"Badge"})}),(0,t.jsx)(n.td,{children:"Insignia de estado"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"Progress"})}),(0,t.jsx)(n.td,{children:"Barra de progreso"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"Tooltip"})}),(0,t.jsx)(n.td,{children:"Contenedor de tooltip"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"TooltipProvider"})}),(0,t.jsx)(n.td,{children:"Proveedor de contexto para tooltips"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"TooltipTrigger"})}),(0,t.jsx)(n.td,{children:"Elemento activador del tooltip"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"TooltipContent"})}),(0,t.jsx)(n.td,{children:"Contenido emergente del tooltip"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"SubwayButton"})}),(0,t.jsx)(n.td,{children:"Bot\xf3n con estilo del juego"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"MainMenuButton"})}),(0,t.jsx)(n.td,{children:"Bot\xf3n con estilo del men\xfa principal"})]})]})]}),"\n",(0,t.jsx)(n.h3,{id:"button-example",children:"Ejemplo de Button"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:'const { Button } = api.utils.components as Record<string, React.ComponentType<any>>;\n\nfunction MyPanel() {\n  return (\n    <div className="flex flex-col gap-2">\n      <Button onClick={() => console.log(\'click\')}>Predeterminado</Button>\n      <Button variant="secondary">Secundario</Button>\n      <Button variant="destructive">Eliminar</Button>\n      <Button variant="outline">Contorno</Button>\n      <Button variant="ghost">Fantasma</Button>\n    </div>\n  );\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"card-example",children:"Ejemplo de Card"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:"const { Card, CardHeader, CardTitle, CardContent } = api.utils.components as Record<\n  string,\n  React.ComponentType<any>\n>;\n\nfunction StatsCard() {\n  const stats = api.gameState.getRidershipStats();\n\n  return (\n    <Card>\n      <CardHeader>\n        <CardTitle>N\xfamero de pasajeros</CardTitle>\n      </CardHeader>\n      <CardContent>\n        <p>{stats.totalRidersPerHour} pasajeros/hora</p>\n        <p>{stats.totalRiders} total</p>\n      </CardContent>\n    </Card>\n  );\n}\n"})}),"\n",(0,t.jsx)(n.h2,{id:"using-lucide-icons",children:"Uso de Iconos Lucide"}),"\n",(0,t.jsxs)(n.p,{children:["El juego proporciona ~5000 iconos de ",(0,t.jsx)(n.a,{href:"https://lucide.dev/",children:"Lucide"}),". Accede a ellos por su nombre en\nPascalCase:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:'const icons = api.utils.icons;\n\nfunction MyPanel() {\n  const TrainIcon = icons.Train;\n  const SettingsIcon = icons.Settings;\n  const MapPinIcon = icons.MapPin;\n\n  return (\n    <div className="flex items-center gap-2">\n      <TrainIcon className="w-4 h-4" />\n      <span>Trenes</span>\n    </div>\n  );\n}\n'})}),"\n",(0,t.jsxs)(n.p,{children:["Iconos comunes que podr\xedas usar: ",(0,t.jsx)(n.code,{children:"Train"}),", ",(0,t.jsx)(n.code,{children:"MapPin"}),", ",(0,t.jsx)(n.code,{children:"Settings"}),", ",(0,t.jsx)(n.code,{children:"DollarSign"}),", ",(0,t.jsx)(n.code,{children:"BarChart"}),", ",(0,t.jsx)(n.code,{children:"Route"}),",\n",(0,t.jsx)(n.code,{children:"Building"}),", ",(0,t.jsx)(n.code,{children:"Layers"}),", ",(0,t.jsx)(n.code,{children:"Clock"}),", ",(0,t.jsx)(n.code,{children:"Play"}),", ",(0,t.jsx)(n.code,{children:"Pause"}),", ",(0,t.jsx)(n.code,{children:"Zap"}),", ",(0,t.jsx)(n.code,{children:"Plus"}),", ",(0,t.jsx)(n.code,{children:"Minus"}),", ",(0,t.jsx)(n.code,{children:"Search"}),", ",(0,t.jsx)(n.code,{children:"Filter"}),",\n",(0,t.jsx)(n.code,{children:"Download"}),", ",(0,t.jsx)(n.code,{children:"Save"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:["Para nombres de iconos usados en ",(0,t.jsx)(n.code,{children:"addFloatingPanel"}),", ",(0,t.jsx)(n.code,{children:"addToolbarButton"}),", etc., utiliza directamente\nel nombre en PascalCase como string:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"api.ui.addFloatingPanel({\n  id: 'my-panel',\n  icon: 'Train', // Nombre como string, no el componente\n  title: 'Mi Panel',\n  render: MyPanel,\n});\n"})}),"\n",(0,t.jsx)(n.h2,{id:"using-recharts",children:"Uso de Recharts"}),"\n",(0,t.jsxs)(n.p,{children:["El juego incluye ",(0,t.jsx)(n.a,{href:"https://recharts.org/",children:"Recharts"})," para visualizaci\xf3n de datos. Todos los\ncomponentes est\xe1ndar est\xe1n disponibles:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:'const { ResponsiveContainer, BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip } =\n  api.utils.charts;\n\nfunction RidershipChart() {\n  const metrics = api.gameState.getLineMetrics();\n\n  const data = metrics.map((m) => ({\n    name: m.name,\n    riders: m.ridersPerHour,\n  }));\n\n  return (\n    <ResponsiveContainer width="100%" height={200}>\n      <BarChart data={data}>\n        <CartesianGrid strokeDasharray="3 3" />\n        <XAxis dataKey="name" />\n        <YAxis />\n        <Tooltip />\n        <Bar dataKey="riders" fill="#3b82f6" />\n      </BarChart>\n    </ResponsiveContainer>\n  );\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"available-chart-components",children:"Componentes de Gr\xe1ficos Disponibles"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Componente"}),(0,t.jsx)(n.th,{children:"Uso"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"ResponsiveContainer"})}),(0,t.jsx)(n.td,{children:"Contenedor con tama\xf1o autom\xe1tico (\xfasalo alrededor de cada gr\xe1fico)"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"BarChart"}),", ",(0,t.jsx)(n.code,{children:"Bar"})]}),(0,t.jsx)(n.td,{children:"Gr\xe1ficos de barras"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"LineChart"}),", ",(0,t.jsx)(n.code,{children:"Line"})]}),(0,t.jsx)(n.td,{children:"Gr\xe1ficos de l\xedneas"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"AreaChart"}),", ",(0,t.jsx)(n.code,{children:"Area"})]}),(0,t.jsx)(n.td,{children:"Gr\xe1ficos de \xe1rea"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"PieChart"}),", ",(0,t.jsx)(n.code,{children:"Pie"}),", ",(0,t.jsx)(n.code,{children:"Cell"})]}),(0,t.jsx)(n.td,{children:"Gr\xe1ficos de pastel/dona"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"RadarChart"}),", ",(0,t.jsx)(n.code,{children:"Radar"})]}),(0,t.jsx)(n.td,{children:"Gr\xe1ficos radar"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"ComposedChart"})}),(0,t.jsx)(n.td,{children:"Tipos de gr\xe1ficos combinados"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"XAxis"}),", ",(0,t.jsx)(n.code,{children:"YAxis"})]}),(0,t.jsx)(n.td,{children:"Ejes"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"CartesianGrid"})}),(0,t.jsx)(n.td,{children:"L\xedneas de cuadr\xedcula"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"Tooltip"})}),(0,t.jsx)(n.td,{children:"Tooltips al pasar el cursor"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"Legend"})}),(0,t.jsx)(n.td,{children:"Leyenda del gr\xe1fico"})]})]})]}),"\n",(0,t.jsx)(n.h2,{id:"styling-with-tailwind",children:"Estilos con Tailwind"}),"\n",(0,t.jsx)(n.p,{children:"El juego utiliza Tailwind CSS. Puedes usar clases utilitarias de Tailwind directamente en tus\ncomponentes:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:'function MyPanel() {\n  return (\n    <div className="flex flex-col gap-3 p-3">\n      <h3 className="text-lg font-semibold">My Mod</h3>\n      <p className="text-sm text-muted-foreground">Some description</p>\n      <div className="grid grid-cols-2 gap-2">\n        <div className="bg-card rounded-lg p-2">Cell 1</div>\n        <div className="bg-card rounded-lg p-2">Cell 2</div>\n      </div>\n    </div>\n  );\n}\n'})}),"\n",(0,t.jsx)(n.p,{children:"Clases \xfatiles adaptadas al tema:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"text-muted-foreground"})," \u2014 color de texto atenuado"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"bg-card"})," \u2014 fondo de tarjeta"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"border"})," \u2014 borde con estilo del tema"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"rounded-lg"})," / ",(0,t.jsx)(n.code,{children:"rounded-md"})," \u2014 radio de borde"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"floating-panel-tips",children:"Consejos para Floating Panels"}),"\n",(0,t.jsxs)(n.p,{children:["Al renderizar dentro de un floating panel (",(0,t.jsx)(n.code,{children:"addFloatingPanel"}),"), el panel proporciona su propio\ncontenedor \u2014 no necesitas envolver tu componente en una ",(0,t.jsx)(n.code,{children:"Card"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:"// Correcto \u2014 el panel proporciona el contenedor\nfunction MyPanel() {\n  return (\n    <div className=\"flex flex-col gap-3 p-3\">\n      <p>Contenido aqu\xed</p>\n    </div>\n  );\n}\n\n// Registr\xe1ndolo\napi.ui.addFloatingPanel({\n  id: 'my-panel',\n  title: 'Mi Mod',\n  icon: 'Puzzle',\n  render: MyPanel,\n});\n"})}),"\n",(0,t.jsx)(n.h2,{id:"registering-custom-components-at-placements",children:"Registrar Componentes Personalizados en Ubicaciones"}),"\n",(0,t.jsx)(n.p,{children:"Para una UI m\xe1s avanzada, puedes registrar un componente de React directamente en una ubicaci\xf3n de\nla interfaz:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:"function MySettingsSection() {\n  const [enabled, setEnabled] = useState(true);\n\n  return (\n    <div className=\"flex items-center justify-between p-2\">\n      <span>Mi Funci\xf3n</span>\n      <Switch checked={enabled} onCheckedChange={setEnabled} />\n    </div>\n  );\n}\n\napi.ui.registerComponent('settings-menu', {\n  id: 'my-settings',\n  component: MySettingsSection,\n});\n"})})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(l,{...e})}):l(e)}},1753(e,n,d){d.d(n,{R:()=>r,x:()=>o});var s=d(758);const t={},i=s.createContext(t);function r(e){const n=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);