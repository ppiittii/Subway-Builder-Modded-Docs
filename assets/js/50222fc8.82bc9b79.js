"use strict";(self.webpackChunksubway_builder_modded_docs=self.webpackChunksubway_builder_modded_docs||[]).push([[61],{6943(e,n,t){t.r(n),t.d(n,{assets:()=>N,contentTitle:()=>k,default:()=>D,frontMatter:()=>O,metadata:()=>i,toc:()=>M});const i=JSON.parse('{"id":"maps/making-custom-maps","title":"Making Custom Maps","description":"This guide will teach you how to make custom maps for Kronifer\'s Map Manager. We will generate realistic demand data using rslurry\'s Demand Data Generator and then properly format our working directory to prepare it for the Map Manager.","source":"@site/docs/maps/making-custom-maps.mdx","sourceDirName":"maps","slug":"/maps/making-custom-maps","permalink":"/wiki/maps/making-custom-maps","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"id":"making-custom-maps","title":"Making Custom Maps"},"sidebar":"docs","previous":{"title":"Map Installation Guide (Legacy)","permalink":"/wiki/maps/legacy-map-installation-guide"},"next":{"title":"Optional Features","permalink":"/wiki/maps/optional-features"}}');var a=t(6070),o=t(1753),s=t(758),r=t(3526),l=t(7852),d=t(5563),c=t(5557),h=t(9138),u=t(9100),p=t(8325),m=t(2795);function f(e){var n,t;return null!=(n=null==(t=s.Children.toArray(e).filter(function(e){return"\n"!==e}).map(function(e){if(!e||(0,s.isValidElement)(e)&&((n=e.props)&&"object"==typeof n&&"value"in n))return e;var n;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')}))?void 0:t.filter(Boolean))?n:[]}function g(e){var n=e.values,t=e.children;return(0,s.useMemo)(function(){var e=null!=n?n:function(e){return f(e).map(function(e){var n=e.props;return{value:n.value,label:n.label,attributes:n.attributes,default:n.default}})}(t);return function(e){var n=(0,p.XI)(e,function(e,n){return e.value===n.value});if(n.length>0)throw new Error('Docusaurus error: Duplicate values "'+n.map(function(e){return e.value}).join(", ")+'" found in <Tabs>. Every value needs to be unique.')}(e),e},[n,t])}function y(e){var n=e.value;return e.tabValues.some(function(e){return e.value===n})}function x(e){var n=e.queryString,t=void 0!==n&&n,i=e.groupId,a=(0,c.W6)(),o=function(e){var n=e.queryString,t=void 0!==n&&n,i=e.groupId;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!i)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return null!=i?i:null}({queryString:t,groupId:i});return[(0,u.aZ)(o),(0,s.useCallback)(function(e){if(o){var n=new URLSearchParams(a.location.search);n.set(o,e),a.replace(Object.assign({},a.location,{search:n.toString()}))}},[o,a])]}function b(e){var n,t,i,a,o=e.defaultValue,r=e.queryString,l=void 0!==r&&r,d=e.groupId,c=g(e),u=(0,s.useState)(function(){return function(e){var n,t=e.defaultValue,i=e.tabValues;if(0===i.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!y({value:t,tabValues:i}))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+t+'" but none of its children has the corresponding value. Available values are: '+i.map(function(e){return e.value}).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");return t}var a=null!=(n=i.find(function(e){return e.default}))?n:i[0];if(!a)throw new Error("Unexpected error: 0 tabValues");return a.value}({defaultValue:o,tabValues:c})}),p=u[0],f=u[1],b=x({queryString:l,groupId:d}),j=b[0],w=b[1],_=(n=function(e){return e?"docusaurus.tab."+e:null}({groupId:d}.groupId),t=(0,m.Dv)(n),i=t[0],a=t[1],[i,(0,s.useCallback)(function(e){n&&a.set(e)},[n,a])]),v=_[0],E=_[1],I=function(){var e=null!=j?j:v;return y({value:e,tabValues:c})?e:null}();return(0,h.A)(function(){I&&f(I)},[I]),{selectedValue:p,selectValue:(0,s.useCallback)(function(e){if(!y({value:e,tabValues:c}))throw new Error("Can't select invalid tab value="+e);f(e),w(e),E(e)},[w,E,c]),tabValues:c}}var j=t(7482);const w="tabList_ORn5",_="tabItem_zv4u";function v(e){var n=e.className,t=e.block,i=e.selectedValue,o=e.selectValue,s=e.tabValues,l=[],c=(0,d.a_)().blockElementScrollPositionUntilNextRender,h=function(e){var n=e.currentTarget,t=l.indexOf(n),a=s[t].value;a!==i&&(c(n),o(a))},u=function(e){var n,t=null;switch(e.key){case"Enter":h(e);break;case"ArrowRight":var i,a=l.indexOf(e.currentTarget)+1;t=null!=(i=l[a])?i:l[0];break;case"ArrowLeft":var o,s=l.indexOf(e.currentTarget)-1;t=null!=(o=l[s])?o:l[l.length-1]}null==(n=t)||n.focus()};return(0,a.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.A)("tabs",{"tabs--block":t},n),children:s.map(function(e){var n=e.value,t=e.label,o=e.attributes;return(0,a.jsx)("li",Object.assign({role:"tab",tabIndex:i===n?0:-1,"aria-selected":i===n,ref:function(e){l.push(e)},onKeyDown:u,onClick:h},o,{className:(0,r.A)("tabs__item",_,null==o?void 0:o.className,{"tabs__item--active":i===n}),children:null!=t?t:n}),n)})})}function E(e){var n=e.lazy,t=e.children,i=e.selectedValue,o=(Array.isArray(t)?t:[t]).filter(Boolean);if(n){var l=o.find(function(e){return e.props.value===i});return l?(0,s.cloneElement)(l,{className:(0,r.A)("margin-top--md",l.props.className)}):null}return(0,a.jsx)("div",{className:"margin-top--md",children:o.map(function(e,n){return(0,s.cloneElement)(e,{key:n,hidden:e.props.value!==i})})})}function I(e){var n=b(e);return(0,a.jsxs)("div",{className:(0,r.A)(l.G.tabs.container,"tabs-container",w),children:[(0,a.jsx)(v,Object.assign({},n,e)),(0,a.jsx)(E,Object.assign({},n,e))]})}function S(e){var n=(0,j.A)();return(0,a.jsx)(I,Object.assign({},e,{children:f(e.children)}),String(n))}const T="tabItem__1Vp";function A(e){var n=e.children,t=e.hidden,i=e.className;return(0,a.jsx)("div",{role:"tabpanel",className:(0,r.A)(T,i),hidden:t,children:n})}const O={id:"making-custom-maps",title:"Making Custom Maps"},k=void 0,N={},M=[{value:"Step 1 - Installing the Map Patcher",id:"installing-the-map-pacher",level:2},{value:"Step 2 - Generating Data",id:"generating-data",level:2},{value:"Step 3 - Generating Demand Data",id:"generating-demand-data",level:2},{value:"Step 4 - Creating the Config File",id:"creating-the-config-file",level:2},{value:"Step 5 - Packaging the Map",id:"packaging-the-map",level:2},{value:"Step 6 - Testing and Distributing your Map",id:"testing-and-distributing-your-map",level:2}];function R(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(n.p,{children:["This guide will teach you how to make custom maps for ",(0,a.jsx)(n.a,{href:"https://github.com/Subway-Builder-Modded/subwaybuilder-patcher/releases",children:"Kronifer's Map Manager"}),". We will generate realistic demand data using ",(0,a.jsx)(n.a,{href:"https://github.com/rslurry/subwaybuilder-US-demand-data",children:"rslurry's Demand Data Generator"})," and then properly format our working directory to prepare it for the Map Manager."]}),"\n",(0,a.jsx)(n.admonition,{type:"danger",children:(0,a.jsxs)(n.p,{children:["The Demand Data Generator ",(0,a.jsx)(n.strong,{children:"ONLY"})," works for US cities. If you are making a non-US city, you will need to find a way to generate and format the data correctly so that it works in Subway Builder. That will not be covered in this wiki, as it differs from country to country and is a complex task. This is because data is not always readily available for every country."]})}),"\n",(0,a.jsxs)(n.admonition,{title:"prerequisites",type:"info",children:[(0,a.jsx)(n.p,{children:"Before you begin, there are a few things that you should familiarize yourself with. We will be using these tools and resources throughout the guide."}),(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"https://git.org",children:"Git"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"https://https://nodejs.org",children:"node.js"})}),"\n",(0,a.jsx)(n.li,{children:"Knowledge of your operating system's terminal"}),"\n",(0,a.jsxs)(n.li,{children:["Understanding of ",(0,a.jsx)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide",children:"JavaScript and JavaScript syntax"})]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"For Windows:"})," ",(0,a.jsx)(n.a,{href:"https://learn.microsoft.com/en-us/windows/wsl/install",children:"WSL"})]}),"\n"]})]}),"\n",(0,a.jsx)(n.h2,{id:"installing-the-map-pacher",children:"Step 1 - Installing the Map Patcher"}),"\n",(0,a.jsx)(n.p,{children:"The old version of Kronifer's Map Manager included a map patcher GUI that can still help us generate our data. Run the following command to clone the map patcher."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"git clone -b legacy https://github.com/Subway-Builder-Modded/subwaybuilder-patcher\n"})}),"\n",(0,a.jsxs)(n.p,{children:["Now, we have a copy of the legacy map patcher installed. From here, look for the install script. Run the script. On Windows, this script is ",(0,a.jsx)(n.code,{children:"Install dependencies.bat"}),". On MacOS and Linux, this script is ",(0,a.jsx)(n.code,{children:"Install dependencies.sh"}),"."]}),"\n",(0,a.jsx)(n.h2,{id:"generating-data",children:"Step 2 - Generating Data"}),"\n",(0,a.jsxs)(n.p,{children:["Start the GUI. On Windows, this is ",(0,a.jsx)(n.code,{children:"Start_GUI.bat"}),". On MacOS and Linux, this is ",(0,a.jsx)(n.code,{children:"Start_GUI.sh"}),". Once that is running, a GUI will open in your browser. This GUI has everything we need to run the map patcher."]}),"\n",(0,a.jsx)("img",{width:"1000",alt:"image",src:"/images/legacy-patcher.png"}),"\n",(0,a.jsxs)(n.p,{children:['Upon opening the patcher, you will be prompted to select your Subway Builder install location. Note that it does not matter what you put here, as we are not actually going to be patching the game. On the next screen, make sure "',(0,a.jsx)(n.code,{children:"Map Patcher (Kronifer)"}),'" is selected. There should not be anything else selected.']}),"\n",(0,a.jsxs)(n.p,{children:["Once you're in the map patcher configuration, click on the tab that says \"",(0,a.jsx)(n.code,{children:"Manual Configuration"}),'". This is where we will enter our fields to generate our data.']}),"\n",(0,a.jsxs)(n.admonition,{type:"tip",children:[(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"\"Code\": The 2 to 4 letter city code for your map. It is strongly encouraged to use IATA or ICAO codes, but another code may be used so long as it doesn't clash with another city's IATA or ICAO code."}),"\n"]}),(0,a.jsx)(n.admonition,{type:"danger",children:(0,a.jsxs)(n.p,{children:["If your city code clashes with a vanilla city's code, your map may not load in th Map Manager. You can check a list of existing vanilla city codes in ",(0,a.jsx)(n.code,{children:"metro-maker4/cities/latest-cities.yml"}),"."]})}),(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:'"Name": The name of your city. This is what will show up in the Map Manager and in game when you load your map.'}),"\n",(0,a.jsx)(n.li,{children:'"Description": A short description of your city. This will appear in game.'}),"\n",(0,a.jsxs)(n.li,{children:['"Population": The population of your city.',"\n",(0,a.jsx)(n.admonition,{type:"note",children:(0,a.jsx)(n.p,{children:"If you are using Google, make sure to note that the population number should only include people who are employed in the region, not the total population."})}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:['"BBox": the coordinates of the bounding box for your city. This should be in the format ',(0,a.jsx)(n.code,{children:"[minLon, minLat, maxLon, maxLat]"}),"."]}),"\n",(0,a.jsxs)(n.li,{children:['"Initial View State": the initial view state that all players will see when they load your map. For ',(0,a.jsx)(n.code,{children:"zoom"})," and ",(0,a.jsx)(n.code,{children:"bearing"}),", the default values will work fine."]}),"\n"]})]}),"\n",(0,a.jsx)("img",{width:"1000",alt:"image",src:"/images/map-patcher-config.png"}),"\n",(0,a.jsxs)(n.p,{children:['Once you have this data inputted, click "',(0,a.jsx)(n.code,{children:"Next"}),'" and then click "',(0,a.jsx)(n.code,{children:"Back"}),'". ',(0,a.jsxs)(n.strong,{children:['On the previous screen, simply clicking "',(0,a.jsx)(n.code,{children:"Run Full Map Setup"}),'" without this step will not save the config and may generate data for a different map.']})]}),"\n",(0,a.jsxs)(n.p,{children:['After that, you can click "',(0,a.jsx)(n.code,{children:"Run Full Map Setup"}),'". This will generate the data for your map. Once the data is finished generating, you can find the output at ',(0,a.jsx)(n.code,{children:"subwaybuilder-patcher/patcher/packages/mapPatcher/processed_data"}),". We will use ",(0,a.jsx)(n.code,{children:"buildings_index.json"}),", ",(0,a.jsx)(n.code,{children:"roads.geojson"}),", and ",(0,a.jsx)(n.code,{children:"runways_taxiways.geojson"}),". You can ignore ",(0,a.jsx)(n.code,{children:"demand_data.json"})," as we will be generating our own demand data in the next step. In ",(0,a.jsx)(n.code,{children:"subwaybuilder-patcher/patcher/packages/mapPatcher/map_tiles"}),", you can find the ",(0,a.jsx)(n.code,{children:"XXX.pmtiles"})," file, where ",(0,a.jsx)(n.code,{children:"XXX"})," is your city code. We will need this file later. In It is now safe to close out of the patcher."]}),"\n",(0,a.jsx)(n.admonition,{type:"danger",children:(0,a.jsx)(n.p,{children:"Do not run through the rest of the patcher setup. This is a legacy patcher and is no longer a supported method of modifying your game. We are only using this GUI to make it easier to generate our data."})}),"\n",(0,a.jsx)(n.h2,{id:"generating-demand-data",children:"Step 3 - Generating Demand Data"}),"\n",(0,a.jsxs)(S,{children:[(0,a.jsxs)(A,{value:"windows",label:"Windows",default:!0,children:[(0,a.jsx)(n.admonition,{type:"important",children:(0,a.jsxs)(n.p,{children:['From this point on, anything done in the "terminal" will be done via WSL. The Demand Data Generator does ',(0,a.jsx)(n.strong,{children:"not"})," support windows, so we will need to use WSL to use the Linux version. Any files downloaded from this point on unless otherwise specified should be the Linux version."]})}),(0,a.jsxs)(n.p,{children:["Head to ",(0,a.jsx)(n.a,{href:"https://github.com/rslurry/subwaybuilder-US-demand-data/releases",children:"https://github.com/rslurry/subwaybuilder-US-demand-data/releases"})," and download the latest release that corresponds to your operating system. Create a temporary working directory to store our files for now and place this in there. Run the commands (replacing ",(0,a.jsx)(n.code,{children:"<YOUR_BINARY_FILE>"})," with the name of your binary file where necessary):"]}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"chmod +x <YOUR_BINARY_FILE>.bin\n"})}),(0,a.jsxs)(n.p,{children:["From here, it's time to set up our demand generator configuration. Create a file called ",(0,a.jsx)(n.code,{children:"<YOUR_CITY>.json"}),", where your city is the name of your city (the filename does not matter, but this will make it easier later). Some parameters are optional, includung airport required locations and pop sizes, some parameters for universities, and all entertainment-related parameters."]}),(0,a.jsx)(n.p,{children:"In this file, include the following parameters:"}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",children:'    city : string, the city you\'re modeling.\n           Example: "Rochester"\n    airport : list of strings, IATA codes for the local airport\n                               Note: The first listed airport is used here to uniquely identify a city.\n              Example: ["ROC"]\n    states : string or list of strings, two-letter code for the state(s) your map covers.\n            Example: "ny"\n            Example: ["md", "dc", "va"]\n    year : int, the year you want to use for the LODES data.  At the time of writing, it must be within 2002-2023.\n           Example: 2022\n    bbox : list of ints, the [min_lon, min_lat, max_lon, max_lat] boundary for the city.\n           Example: [-77.8216, 43.0089, -77.399, 43.3117],\n    cbd_bbox : list of ints, exactly like `bbox` except for the Central Business District.\n                             Can be used to reduce clustering for the downtown area.\n                             To disable, set this to null.\n               Example: null\n\n    HUMAN_READABLE : (optional) bool, determines whether to make the output demand_data.json file have indentation\n                                      structure for readability (true) or not to minimize file size (false).\n                      Default: false\n    MAX_WORKERS : (optional) int, sets the number of workers to use for parallel processing.\n                   Default: None (total number of CPU threads)\n    MAXPOPSIZE : int, maximum size any pop can be.\n                      Pops larger than this value are split into multiple pops to follow this setting.\n                 Example: 200\n    CALCULATE_ROUTES : bool, determines whether to calculate commuting routes.\n                             Recommended to set this to false when initially testing out boundaries and clustering.\n                             NOTE: It can take a long time to calculate routes!  Small cities are 15-30 minutes\n                                   on a 16 core machine, which means ~1-2 hours on a 4 core machine!\n                       Example: true\n    SMALL_THRESHOLD : int, maximum pop size considered for agglomerative clustering.\n                           Pops smaller than this size will be merged with other nearby pops that work at the\n                           same location.\n                      Example: 100\n    DISTANCE_THRESHOLD_NONCBD : float, distance threshold in degrees to consider when clustering.\n                                       This is applied outside the CBD, or if the CBD is not used, then applied\n                                       everywhere.\n                                       Note that you will get demand points separated by less than this value,\n                                       so do not use this value as a "minimum separation" parameter.\n                                Example: 0.1\n    DISTANCE_THRESHOLD_CBD : float, like `DISTANCE_THRESHOLD_NONCBD` but applied within the CBD defined by\n                                    `cbd_bbox`.\n                             Example: 0.05\n    DEMAND_FACTOR: float, multiply all LODES pop sizes by this factor.\n                          This parameter is only offered to make cities with small number of commutes viable.\n                          In general it is recommended to use a value of 1.\n                          Example: 2\n\n    point_locs_to_move : list of list of floats, coordinates in [lon, lat] of demand points that you want to move\n                                                 for whatever reason (over water, overlapping, etc.).\n                                                 Must correspond exactly to the order used in `moved_point_locs`.\n                                                 To not use this, set it to []\n                         Example: [[-77.69260, 43.29925], [-77.69280, 43.28780], [-77.74163, 43.30533],\n                                   [-77.76616, 43.29830], [-77.75377, 43.29501], [-77.73190, 43.29221],\n                                   [-77.71047, 43.28571], [-77.53833, 43.22158]]\n    moved_point_locs : list of list of floats, coordinates in [lon, lat] where you want to move the\n                                               demand points to.\n                                               Must correspond exactly to the order used in `point_locs_to_move`.\n                       Example: [[-77.69253, 43.29669], [-77.69224, 43.28529], [-77.73431, 43.30351],\n                                 [-77.76969, 43.29365], [-77.75209, 43.29262], [-77.72819, 43.29165],\n                                 [-77.71078, 43.28141], [-77.54152, 43.22132]]\n\n    airport_daily_passengers : (optional) list of ints, number of daily passengers at the city\'s airports.\n                               Example: [7000]\n    airport_loc : list of list of floats, coordinates in [lon, lat] of the city\'s airports.\n                  Example: [[-77.67166, 43.12919]]\n    airport_required_locs : list of list of list of floats, coordinates in [lon, lat] where you want airports\'\n                                                    travelers to reside.  One pop will be placed at the\n                                                    demand bubble closest to each specified coordinate.\n                                                    If you don\'t care to set this, then use [] and the code\n                                                    will decide automatically.\n                            Example: [[[-77.61298,  43.15729], [-77.60688,  43.15614], [-77.58936,  43.1547 ],\n                                       [-77.59342,  43.15564], [-77.6741 ,  43.21029], [-77.61647,  43.10564],\n                                       [-77.61391,  43.08771], [-77.55086,  43.11299], [-77.57981,  43.19774],\n                                       [-77.4567 ,  43.2146 ], [-77.44227,  43.21617], [-77.68496,  43.18599],\n                                       [-77.64286,  43.0601 ], [-77.65179,  43.05802], [-77.44922,  43.01093],\n                                       [-77.51514,  43.09333]]]\n    air_pop_size_req : list of ints, size of airports\' pops assigned by `airport_required_locs`.\n                            Note that if this exceeds `MAXPOPSIZE` then each pop will be split into multiple\n                            smaller pops.\n                       Example: [200]\n    air_pop_size_remain : list of ints, size of airports\' pops assigned automatically by the code.\n                              Note that if this exceeds `MAXPOPSIZE` then each pop will be split into multiple\n                              smaller pops.\n                          Example: [150]\n\n    universities : list of strings, 2-4 letter identifier for each university considered.\n                                    All subsequent university-related parameters must correspond exactly to\n                                    this ordering.\n                   Example: ["UR", "RIT", "SJF", "NU", "RWU"],\n    univ_loc : list of list of floats, coordinates for each university\'s demand bubble.\n               Example: [[-77.62668, 43.12989], [-77.67629, 43.08389], [-77.51239, 43.11575],\n                         [-77.51873, 43.10218], [-77.79857, 43.12568]]\n    univ_merge_within : list of ints, distance in meters to merge any nearby demand points into the new university\n                                      demand point.\n                   Example: [0, 350, 300, 0, 0]\n    students : list of ints, number of students that attend each campus.\n               Example: [11946, 17166, 4000, 2500, 1500]\n    perc_oncampus : list of floats, percentage of students that live in on-campus housing for each university.\n                    Example: [0.45, 0.4, 0.33, 0.5, 0.6]\n    univ_pop_size : list of ints, size of each pop created for each university.\n                    Example: [75, 75, 75, 75, 75]\n    univ_perc_travel : list of list of floats, fraction of students that live [on campus, off campus] that travel\n                                               on an average day.\n                                Default: [0.3, 0.5]\n\n    entertainment : list of strings, short identifiers for each entertainment location\n    ent_loc : list of list of floats, coordinates in [lon, lat] for each entertainment location\n    ent_req_residences : list of list of list of floats, like `airport_required_locs` but for\n                                                         entertainment locations\n    ent_size : list of ints, number of daily visitors to each entertainment location\n    ent_pop_size : list of ints, size of each pop created for each entertainment location\n'})}),(0,a.jsx)(n.p,{children:"Once you set that up, run:"}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"./<YOUR_BINARY_FILE>.bin <YOUR_CITY>.json\n"})}),(0,a.jsx)(n.admonition,{type:"important",children:(0,a.jsxs)(n.p,{children:["You may need to include a ",(0,a.jsx)(n.code,{children:"MAX_WORKERS"})," parameter in your config file to prevent the program from using too many resources. If you encounter issues with the script crashing, set ",(0,a.jsx)(n.code,{children:"MAX_WORKERS"})," to a lower number. The higher the number, the faster the script will run, but it will use more resources."]})}),(0,a.jsx)(n.admonition,{type:"note",children:(0,a.jsxs)(n.p,{children:["This can take anywhere from an hour to a few days depending on your computer's specs, the size of the map, and the ",(0,a.jsx)(n.code,{children:"MAX_WORKERS"})," value set in the config."]})}),(0,a.jsxs)(n.p,{children:["This process will yield a ",(0,a.jsx)(n.code,{children:"demand_data.json"})," in ",(0,a.jsx)(n.code,{children:"demand_data/<YOUR_CITY>/"}),". This is the final data file we need to finish making your map."]})]}),(0,a.jsxs)(A,{value:"macos",label:"MacOS",children:[(0,a.jsxs)(n.p,{children:["Head to ",(0,a.jsx)(n.a,{href:"https://github.com/rslurry/subwaybuilder-US-demand-data/releases",children:"https://github.com/rslurry/subwaybuilder-US-demand-data/releases"})," and download the latest release that corresponds to your operating system. Create a temporary working directory to store our files for now and place this in there. Run the commands (replacing ",(0,a.jsx)(n.code,{children:"<YOUR_BINARY_FILE>"})," with the name of your binary file where necessary):"]}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"chmod +x <YOUR_BINARY_FILE>.bin\n"})}),(0,a.jsxs)(n.p,{children:["From here, it's time to set up our demand generator configuration. Create a file called ",(0,a.jsx)(n.code,{children:"<YOUR_CITY>.json"}),", where your city is the name of your city (the filename does not matter, but this will make it easier later). Some parameters are optional, includung airport required locations and pop sizes, some parameters for universities, and all entertainment-related parameters."]}),(0,a.jsx)(n.p,{children:"In this file, include the following parameters:"}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",children:'    city : string, the city you\'re modeling.\n           Example: "Rochester"\n    airport : list of strings, IATA codes for the local airport\n                               Note: The first listed airport is used here to uniquely identify a city.\n              Example: ["ROC"]\n    states : string or list of strings, two-letter code for the state(s) your map covers.\n            Example: "ny"\n            Example: ["md", "dc", "va"]\n    year : int, the year you want to use for the LODES data.  At the time of writing, it must be within 2002-2023.\n           Example: 2022\n    bbox : list of ints, the [min_lon, min_lat, max_lon, max_lat] boundary for the city.\n           Example: [-77.8216, 43.0089, -77.399, 43.3117],\n    cbd_bbox : list of ints, exactly like `bbox` except for the Central Business District.\n                             Can be used to reduce clustering for the downtown area.\n                             To disable, set this to null.\n               Example: null\n\n    HUMAN_READABLE : (optional) bool, determines whether to make the output demand_data.json file have indentation\n                                      structure for readability (true) or not to minimize file size (false).\n                      Default: false\n    MAX_WORKERS : (optional) int, sets the number of workers to use for parallel processing.\n                   Default: None (total number of CPU threads)\n    MAXPOPSIZE : int, maximum size any pop can be.\n                      Pops larger than this value are split into multiple pops to follow this setting.\n                 Example: 200\n    CALCULATE_ROUTES : bool, determines whether to calculate commuting routes.\n                             Recommended to set this to false when initially testing out boundaries and clustering.\n                             NOTE: It can take a long time to calculate routes!  Small cities are 15-30 minutes\n                                   on a 16 core machine, which means ~1-2 hours on a 4 core machine!\n                       Example: true\n    SMALL_THRESHOLD : int, maximum pop size considered for agglomerative clustering.\n                           Pops smaller than this size will be merged with other nearby pops that work at the\n                           same location.\n                      Example: 100\n    DISTANCE_THRESHOLD_NONCBD : float, distance threshold in degrees to consider when clustering.\n                                       This is applied outside the CBD, or if the CBD is not used, then applied\n                                       everywhere.\n                                       Note that you will get demand points separated by less than this value,\n                                       so do not use this value as a "minimum separation" parameter.\n                                Example: 0.1\n    DISTANCE_THRESHOLD_CBD : float, like `DISTANCE_THRESHOLD_NONCBD` but applied within the CBD defined by\n                                    `cbd_bbox`.\n                             Example: 0.05\n    DEMAND_FACTOR: float, multiply all LODES pop sizes by this factor.\n                          This parameter is only offered to make cities with small number of commutes viable.\n                          In general it is recommended to use a value of 1.\n                          Example: 2\n\n    point_locs_to_move : list of list of floats, coordinates in [lon, lat] of demand points that you want to move\n                                                 for whatever reason (over water, overlapping, etc.).\n                                                 Must correspond exactly to the order used in `moved_point_locs`.\n                                                 To not use this, set it to []\n                         Example: [[-77.69260, 43.29925], [-77.69280, 43.28780], [-77.74163, 43.30533],\n                                   [-77.76616, 43.29830], [-77.75377, 43.29501], [-77.73190, 43.29221],\n                                   [-77.71047, 43.28571], [-77.53833, 43.22158]]\n    moved_point_locs : list of list of floats, coordinates in [lon, lat] where you want to move the\n                                               demand points to.\n                                               Must correspond exactly to the order used in `point_locs_to_move`.\n                       Example: [[-77.69253, 43.29669], [-77.69224, 43.28529], [-77.73431, 43.30351],\n                                 [-77.76969, 43.29365], [-77.75209, 43.29262], [-77.72819, 43.29165],\n                                 [-77.71078, 43.28141], [-77.54152, 43.22132]]\n\n    airport_daily_passengers : (optional) list of ints, number of daily passengers at the city\'s airports.\n                               Example: [7000]\n    airport_loc : list of list of floats, coordinates in [lon, lat] of the city\'s airports.\n                  Example: [[-77.67166, 43.12919]]\n    airport_required_locs : list of list of list of floats, coordinates in [lon, lat] where you want airports\'\n                                                    travelers to reside.  One pop will be placed at the\n                                                    demand bubble closest to each specified coordinate.\n                                                    If you don\'t care to set this, then use [] and the code\n                                                    will decide automatically.\n                            Example: [[[-77.61298,  43.15729], [-77.60688,  43.15614], [-77.58936,  43.1547 ],\n                                       [-77.59342,  43.15564], [-77.6741 ,  43.21029], [-77.61647,  43.10564],\n                                       [-77.61391,  43.08771], [-77.55086,  43.11299], [-77.57981,  43.19774],\n                                       [-77.4567 ,  43.2146 ], [-77.44227,  43.21617], [-77.68496,  43.18599],\n                                       [-77.64286,  43.0601 ], [-77.65179,  43.05802], [-77.44922,  43.01093],\n                                       [-77.51514,  43.09333]]]\n    air_pop_size_req : list of ints, size of airports\' pops assigned by `airport_required_locs`.\n                            Note that if this exceeds `MAXPOPSIZE` then each pop will be split into multiple\n                            smaller pops.\n                       Example: [200]\n    air_pop_size_remain : list of ints, size of airports\' pops assigned automatically by the code.\n                              Note that if this exceeds `MAXPOPSIZE` then each pop will be split into multiple\n                              smaller pops.\n                          Example: [150]\n\n    universities : list of strings, 2-4 letter identifier for each university considered.\n                                    All subsequent university-related parameters must correspond exactly to\n                                    this ordering.\n                   Example: ["UR", "RIT", "SJF", "NU", "RWU"],\n    univ_loc : list of list of floats, coordinates for each university\'s demand bubble.\n               Example: [[-77.62668, 43.12989], [-77.67629, 43.08389], [-77.51239, 43.11575],\n                         [-77.51873, 43.10218], [-77.79857, 43.12568]]\n    univ_merge_within : list of ints, distance in meters to merge any nearby demand points into the new university\n                                      demand point.\n                   Example: [0, 350, 300, 0, 0]\n    students : list of ints, number of students that attend each campus.\n               Example: [11946, 17166, 4000, 2500, 1500]\n    perc_oncampus : list of floats, percentage of students that live in on-campus housing for each university.\n                    Example: [0.45, 0.4, 0.33, 0.5, 0.6]\n    univ_pop_size : list of ints, size of each pop created for each university.\n                    Example: [75, 75, 75, 75, 75]\n    univ_perc_travel : list of list of floats, fraction of students that live [on campus, off campus] that travel\n                                               on an average day.\n                                Default: [0.3, 0.5]\n\n    entertainment : list of strings, short identifiers for each entertainment location\n    ent_loc : list of list of floats, coordinates in [lon, lat] for each entertainment location\n    ent_req_residences : list of list of list of floats, like `airport_required_locs` but for\n                                                         entertainment locations\n    ent_size : list of ints, number of daily visitors to each entertainment location\n    ent_pop_size : list of ints, size of each pop created for each entertainment location\n'})}),(0,a.jsx)(n.p,{children:"Once you set that up, run:"}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"./<YOUR_BINARY_FILE>.bin <YOUR_CITY>.json\n"})}),(0,a.jsx)(n.admonition,{type:"important",children:(0,a.jsxs)(n.p,{children:["You may need to include a ",(0,a.jsx)(n.code,{children:"MAX_WORKERS"})," parameter in your config file to prevent the program from using too many resources. If you encounter issues with the script crashing, set ",(0,a.jsx)(n.code,{children:"MAX_WORKERS"})," to a lower number. The higher the number, the faster the script will run, but it will use more resources."]})}),(0,a.jsx)(n.admonition,{type:"note",children:(0,a.jsxs)(n.p,{children:["This can take anywhere from an hour to a few days depending on your computer's specs, the size of the map, and the ",(0,a.jsx)(n.code,{children:"MAX_WORKERS"})," value set in the config."]})}),(0,a.jsxs)(n.p,{children:["This process will yield a ",(0,a.jsx)(n.code,{children:"demand_data.json"})," in ",(0,a.jsx)(n.code,{children:"demand_data/<YOUR_CITY>/"}),". This is the final data file we need to finish making your map."]})]}),(0,a.jsxs)(A,{value:"linux",label:"Linux",children:[(0,a.jsxs)(n.p,{children:["Head to ",(0,a.jsx)(n.a,{href:"https://github.com/rslurry/subwaybuilder-US-demand-data/releases",children:"https://github.com/rslurry/subwaybuilder-US-demand-data/releases"})," and download the latest release that corresponds to your operating system. Create a temporary working directory to store our files for now and place this in there. Run the commands (replacing ",(0,a.jsx)(n.code,{children:"<YOUR_BINARY_FILE>"})," with the name of your binary file where necessary):"]}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"chmod +x <YOUR_BINARY_FILE>.bin\n"})}),(0,a.jsxs)(n.p,{children:["From here, it's time to set up our demand generator configuration. Create a file called ",(0,a.jsx)(n.code,{children:"<YOUR_CITY>.json"}),", where your city is the name of your city (the filename does not matter, but this will make it easier later). Some parameters are optional, includung airport required locations and pop sizes, some parameters for universities, and all entertainment-related parameters."]}),(0,a.jsx)(n.p,{children:"In this file, include the following parameters:"}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",children:'    city : string, the city you\'re modeling.\n           Example: "Rochester"\n    airport : list of strings, IATA codes for the local airport\n                               Note: The first listed airport is used here to uniquely identify a city.\n              Example: ["ROC"]\n    states : string or list of strings, two-letter code for the state(s) your map covers.\n            Example: "ny"\n            Example: ["md", "dc", "va"]\n    year : int, the year you want to use for the LODES data.  At the time of writing, it must be within 2002-2023.\n           Example: 2022\n    bbox : list of ints, the [min_lon, min_lat, max_lon, max_lat] boundary for the city.\n           Example: [-77.8216, 43.0089, -77.399, 43.3117],\n    cbd_bbox : list of ints, exactly like `bbox` except for the Central Business District.\n                             Can be used to reduce clustering for the downtown area.\n                             To disable, set this to null.\n               Example: null\n\n    HUMAN_READABLE : (optional) bool, determines whether to make the output demand_data.json file have indentation\n                                      structure for readability (true) or not to minimize file size (false).\n                      Default: false\n    MAX_WORKERS : (optional) int, sets the number of workers to use for parallel processing.\n                   Default: None (total number of CPU threads)\n    MAXPOPSIZE : int, maximum size any pop can be.\n                      Pops larger than this value are split into multiple pops to follow this setting.\n                 Example: 200\n    CALCULATE_ROUTES : bool, determines whether to calculate commuting routes.\n                             Recommended to set this to false when initially testing out boundaries and clustering.\n                             NOTE: It can take a long time to calculate routes!  Small cities are 15-30 minutes\n                                   on a 16 core machine, which means ~1-2 hours on a 4 core machine!\n                       Example: true\n    SMALL_THRESHOLD : int, maximum pop size considered for agglomerative clustering.\n                           Pops smaller than this size will be merged with other nearby pops that work at the\n                           same location.\n                      Example: 100\n    DISTANCE_THRESHOLD_NONCBD : float, distance threshold in degrees to consider when clustering.\n                                       This is applied outside the CBD, or if the CBD is not used, then applied\n                                       everywhere.\n                                       Note that you will get demand points separated by less than this value,\n                                       so do not use this value as a "minimum separation" parameter.\n                                Example: 0.1\n    DISTANCE_THRESHOLD_CBD : float, like `DISTANCE_THRESHOLD_NONCBD` but applied within the CBD defined by\n                                    `cbd_bbox`.\n                             Example: 0.05\n    DEMAND_FACTOR: float, multiply all LODES pop sizes by this factor.\n                          This parameter is only offered to make cities with small number of commutes viable.\n                          In general it is recommended to use a value of 1.\n                          Example: 2\n\n    point_locs_to_move : list of list of floats, coordinates in [lon, lat] of demand points that you want to move\n                                                 for whatever reason (over water, overlapping, etc.).\n                                                 Must correspond exactly to the order used in `moved_point_locs`.\n                                                 To not use this, set it to []\n                         Example: [[-77.69260, 43.29925], [-77.69280, 43.28780], [-77.74163, 43.30533],\n                                   [-77.76616, 43.29830], [-77.75377, 43.29501], [-77.73190, 43.29221],\n                                   [-77.71047, 43.28571], [-77.53833, 43.22158]]\n    moved_point_locs : list of list of floats, coordinates in [lon, lat] where you want to move the\n                                               demand points to.\n                                               Must correspond exactly to the order used in `point_locs_to_move`.\n                       Example: [[-77.69253, 43.29669], [-77.69224, 43.28529], [-77.73431, 43.30351],\n                                 [-77.76969, 43.29365], [-77.75209, 43.29262], [-77.72819, 43.29165],\n                                 [-77.71078, 43.28141], [-77.54152, 43.22132]]\n\n    airport_daily_passengers : (optional) list of ints, number of daily passengers at the city\'s airports.\n                               Example: [7000]\n    airport_loc : list of list of floats, coordinates in [lon, lat] of the city\'s airports.\n                  Example: [[-77.67166, 43.12919]]\n    airport_required_locs : list of list of list of floats, coordinates in [lon, lat] where you want airports\'\n                                                    travelers to reside.  One pop will be placed at the\n                                                    demand bubble closest to each specified coordinate.\n                                                    If you don\'t care to set this, then use [] and the code\n                                                    will decide automatically.\n                            Example: [[[-77.61298,  43.15729], [-77.60688,  43.15614], [-77.58936,  43.1547 ],\n                                       [-77.59342,  43.15564], [-77.6741 ,  43.21029], [-77.61647,  43.10564],\n                                       [-77.61391,  43.08771], [-77.55086,  43.11299], [-77.57981,  43.19774],\n                                       [-77.4567 ,  43.2146 ], [-77.44227,  43.21617], [-77.68496,  43.18599],\n                                       [-77.64286,  43.0601 ], [-77.65179,  43.05802], [-77.44922,  43.01093],\n                                       [-77.51514,  43.09333]]]\n    air_pop_size_req : list of ints, size of airports\' pops assigned by `airport_required_locs`.\n                            Note that if this exceeds `MAXPOPSIZE` then each pop will be split into multiple\n                            smaller pops.\n                       Example: [200]\n    air_pop_size_remain : list of ints, size of airports\' pops assigned automatically by the code.\n                              Note that if this exceeds `MAXPOPSIZE` then each pop will be split into multiple\n                              smaller pops.\n                          Example: [150]\n\n    universities : list of strings, 2-4 letter identifier for each university considered.\n                                    All subsequent university-related parameters must correspond exactly to\n                                    this ordering.\n                   Example: ["UR", "RIT", "SJF", "NU", "RWU"],\n    univ_loc : list of list of floats, coordinates for each university\'s demand bubble.\n               Example: [[-77.62668, 43.12989], [-77.67629, 43.08389], [-77.51239, 43.11575],\n                         [-77.51873, 43.10218], [-77.79857, 43.12568]]\n    univ_merge_within : list of ints, distance in meters to merge any nearby demand points into the new university\n                                      demand point.\n                   Example: [0, 350, 300, 0, 0]\n    students : list of ints, number of students that attend each campus.\n               Example: [11946, 17166, 4000, 2500, 1500]\n    perc_oncampus : list of floats, percentage of students that live in on-campus housing for each university.\n                    Example: [0.45, 0.4, 0.33, 0.5, 0.6]\n    univ_pop_size : list of ints, size of each pop created for each university.\n                    Example: [75, 75, 75, 75, 75]\n    univ_perc_travel : list of list of floats, fraction of students that live [on campus, off campus] that travel\n                                               on an average day.\n                                Default: [0.3, 0.5]\n\n    entertainment : list of strings, short identifiers for each entertainment location\n    ent_loc : list of list of floats, coordinates in [lon, lat] for each entertainment location\n    ent_req_residences : list of list of list of floats, like `airport_required_locs` but for\n                                                         entertainment locations\n    ent_size : list of ints, number of daily visitors to each entertainment location\n    ent_pop_size : list of ints, size of each pop created for each entertainment location\n'})}),(0,a.jsx)(n.p,{children:"Once you set that up, run:"}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"./<YOUR_BINARY_FILE>.bin <YOUR_CITY>.json\n"})}),(0,a.jsx)(n.admonition,{type:"important",children:(0,a.jsxs)(n.p,{children:["You may need to include a ",(0,a.jsx)(n.code,{children:"MAX_WORKERS"})," parameter in your config file to prevent the program from using too many resources. If you encounter issues with the script crashing, set ",(0,a.jsx)(n.code,{children:"MAX_WORKERS"})," to a lower number. The higher the number, the faster the script will run, but it will use more resources."]})}),(0,a.jsx)(n.admonition,{type:"note",children:(0,a.jsxs)(n.p,{children:["This can take anywhere from an hour to a few days depending on your computer's specs, the size of the map, and the ",(0,a.jsx)(n.code,{children:"MAX_WORKERS"})," value set in the config."]})}),(0,a.jsxs)(n.p,{children:["This process will yield a ",(0,a.jsx)(n.code,{children:"demand_data.json"})," in ",(0,a.jsx)(n.code,{children:"demand_data/<YOUR_CITY>/"}),". This is the final data file we need to finish making your map."]})]})]}),"\n",(0,a.jsx)(n.h2,{id:"creating-the-config-file",children:"Step 4 - Creating the Config File"}),"\n",(0,a.jsx)(n.p,{children:"To proceed with this step, we need a total of 5 files:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"demand_data.json"})," (generated with the Demand Data Generator)"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"buildings_index.json"})," (generated with the map patcher)"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"roads.geojson"})," (generated with the map patcher)"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"runways_taxiways.geojson"})," (generated with the map patcher)"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"XXX.pmtiles"})," (generated with the map patcher; ",(0,a.jsx)(n.code,{children:"XXX"})," is your city code)"]}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:["In your temporary working directory, create a file called ",(0,a.jsx)(n.code,{children:"config.json"}),". This file will contain our configuration for the Map Manager. Inside, you can place this template:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",children:'{\n  "name": "Wyoming",\n  "code": "WYO",\n  "description": "it\'s wyomin\' time",\n  "population": 240000,\n  "initialViewState": {\n    "zoom": 12,\n    "latitude": 42.731833,\n    "longitude": -107.30072,\n    "bearing": 0\n  },\n  "creator": "muffintime",\n  "version": "1.0.0"\n}\n'})}),"\n",(0,a.jsx)(n.admonition,{type:"tip",children:(0,a.jsxs)(n.p,{children:["For more optional features that can be included in ",(0,a.jsx)(n.code,{children:"config.json"}),", check the ",(0,a.jsx)(n.a,{href:"/wiki/maps/optional-features",children:"optional features page"}),"."]})}),"\n",(0,a.jsxs)(n.p,{children:["Edit this to suit your needs. Note that ",(0,a.jsx)(n.code,{children:"creator"})," and ",(0,a.jsx)(n.code,{children:"version"})," can be any arbitrary values."]}),"\n",(0,a.jsx)(n.admonition,{type:"warning",children:(0,a.jsxs)(n.p,{children:["The ",(0,a.jsx)(n.code,{children:"name"}),", ",(0,a.jsx)(n.code,{children:"code"}),", ",(0,a.jsx)(n.code,{children:"description"}),", ",(0,a.jsx)(n.code,{children:"population"}),", and ",(0,a.jsx)(n.code,{children:"initialViewState"})," should all match ",(0,a.jsx)(n.strong,{children:"exactly"})," what you put in the map patcher. If you do not copy them exactly, this could cause problems for players down the line."]})}),"\n",(0,a.jsx)(n.h2,{id:"packaging-the-map",children:"Step 5 - Packaging the Map"}),"\n",(0,a.jsxs)(S,{children:[(0,a.jsxs)(A,{value:"windows",label:"Windows",default:!0,children:[(0,a.jsxs)(n.p,{children:["Now, we should have a total of 6 files (the 5 mentioned above and the ",(0,a.jsx)(n.code,{children:"config.json"})," we just created). It's time to package them into ZIP format to be able to distribute our map to users."]}),(0,a.jsxs)(n.p,{children:["Open a terminal and navigate to the directory in which all 6 files are located. Install the ",(0,a.jsx)(n.code,{children:"zip"})," package if you haven't already. You can do so by running:"]}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"sudo apt install zip\n"})}),(0,a.jsxs)(n.p,{children:["This will let us create a ZIP file from the command line. Run the following command (replace ",(0,a.jsx)(n.code,{children:"MAP_NAME.zip"})," and ",(0,a.jsx)(n.code,{children:"XXX.pmtiles"})," accordingly):"]}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"zip MAP_NAME.zip demand_data.json buildings_index.json roads.geojson runways_taxiways.geojson XXX.pmtiles config.json\n"})}),(0,a.jsxs)(n.admonition,{type:"danger",children:[(0,a.jsxs)(n.p,{children:["If you'd like, you can manually make the ZIP however you want. ",(0,a.jsx)(n.strong,{children:"However, ensure that your files are in the root of the ZIP, not nested inside of a subfolder."})," The correct format should be:"]}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"- MAP_NAME.zip\n--- demand_data.json\n--- building_index.json\n--- roads.geojson\n--- runways_taxiways.geojson\n--- config.json\n--- XXX.pmtiles\n"})}),(0,a.jsx)(n.p,{children:"and NOT:"}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"- MAP_NAME.zip\n// highlight-next-line\n--- subfolder\n----- demand_data.json\n----- building_index.json\n----- roads.geojson\n----- runways_taxiways.geojson\n----- config.json\n----- XXX.pmtiles\n"})})]})]}),(0,a.jsxs)(A,{value:"macos",label:"MacOS",children:[(0,a.jsxs)(n.p,{children:["Now, we should have a total of 6 files (the 5 mentioned above and the ",(0,a.jsx)(n.code,{children:"config.json"})," we just created). It's time to package them into ZIP format to be able to distribute our map to users."]}),(0,a.jsxs)(n.p,{children:["Open a terminal and navigate to the directory in which all 6 files are located. We can now create a ZIP file from the command line. Run the following command (replace ",(0,a.jsx)(n.code,{children:"MAP_NAME.zip"})," and ",(0,a.jsx)(n.code,{children:"XXX.pmtiles"})," accordingly):"]}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"zip MAP_NAME.zip demand_data.json buildings_index.json roads.geojson runways_taxiways.geojson XXX.pmtiles config.json\n"})}),(0,a.jsxs)(n.admonition,{type:"danger",children:[(0,a.jsxs)(n.p,{children:["If you'd like, you can manually make the ZIP any way you'd like. ",(0,a.jsx)(n.strong,{children:"However, ensure that your files are in the root of the ZIP, not nested inside of a subfolder."})," The correct format should be:"]}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"- MAP_NAME.zip\n--- demand_data.json\n--- building_index.json\n--- roads.geojson\n--- runways_taxiways.geojson\n--- config.json\n--- XXX.pmtiles\n"})}),(0,a.jsx)(n.p,{children:"and NOT:"}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"- MAP_NAME.zip\n// highlight-next-line\n--- subfolder\n----- demand_data.json\n----- building_index.json\n----- roads.geojson\n----- runways_taxiways.geojson\n----- config.json\n----- XXX.pmtiles\n"})})]})]}),(0,a.jsxs)(A,{value:"linux",label:"Linux",children:[(0,a.jsxs)(n.p,{children:["Now, we should have a total of 6 files (the 5 mentioned above and the ",(0,a.jsx)(n.code,{children:"config.json"})," we just created). It's time to package them into ZIP format to be able to distribute our map to users."]}),(0,a.jsxs)(n.p,{children:["Open a terminal and navigate to the directory in which all 6 files are located. Install the ",(0,a.jsx)(n.code,{children:"zip"})," package if you haven't already. You can do so by running:"]}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"sudo apt install zip\n"})}),(0,a.jsxs)(n.p,{children:["This will let us create a ZIP file from the command line. Run the following command (replace ",(0,a.jsx)(n.code,{children:"MAP_NAME.zip"})," and ",(0,a.jsx)(n.code,{children:"XXX.pmtiles"})," accordingly):"]}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"zip MAP_NAME.zip demand_data.json buildings_index.json roads.geojson runways_taxiways.geojson XXX.pmtiles config.json\n"})}),(0,a.jsxs)(n.admonition,{type:"danger",children:[(0,a.jsxs)(n.p,{children:["If you'd like, you can manually make the ZIP any way you'd like. ",(0,a.jsx)(n.strong,{children:"However, ensure that your files are in the root of the ZIP, not nested inside of a subfolder."})," The correct format should be:"]}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"- MAP_NAME.zip\n--- demand_data.json\n--- building_index.json\n--- roads.geojson\n--- runways_taxiways.geojson\n--- config.json\n--- XXX.pmtiles\n"})}),(0,a.jsx)(n.p,{children:"and NOT:"}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"- MAP_NAME.zip\n// highlight-next-line\n--- subfolder\n----- demand_data.json\n----- building_index.json\n----- roads.geojson\n----- runways_taxiways.geojson\n----- config.json\n----- XXX.pmtiles\n"})})]})]})]}),"\n",(0,a.jsx)(n.h2,{id:"testing-and-distributing-your-map",children:"Step 6 - Testing and Distributing your Map"}),"\n",(0,a.jsxs)(n.p,{children:["Once you have the ZIP, your map is done! The only thing left to do is test it out and distribute it to users. Import your map into the game using the Map Manager (you can follow the ",(0,a.jsx)(n.a,{href:"/wiki/maps/map-installation-guide",children:"map installation guide"})," if needed). Test your map in game to verify that it loads and that the demand data looks good. If it is not, you can adjust your Demand Data Generator parameters and generate the data again. Be sure to note in your release the quality of the data, whether it's very good, good, OK, acceptable, or bad."]}),"\n",(0,a.jsx)(n.p,{children:"To share your file, upload it to a file sharing service like Google Drive or Mediafire. Copy the share link (make sure it's visible/public)."}),"\n",(0,a.jsx)(n.admonition,{type:"note",children:(0,a.jsxs)(n.p,{children:["Since GitHub has file size limits, it is not recommended to upload map to GitHub. You can use GitHub safely if your map's ZIP file is under 100 MB. It is strongly encouraged ",(0,a.jsx)(n.strong,{children:"not"})," to use GitHub LFS."]})}),"\n",(0,a.jsxs)(n.p,{children:["On the wiki's ",(0,a.jsx)(n.a,{href:"https://github.com/Subway-Builder-Modded/Subway-Builder-Modded-Docs/issues",children:"issues page"}),", you can open an issue with the prefix [New Map] followed by the name of your map. Include a link to the download of your map, ",(0,a.jsx)(n.strong,{children:"as well as the population for your map to be displayed on the wiki"}),". Additionally, you can post the map in the #map-sharing channel of the ",(0,a.jsx)(n.a,{href:"https://discord.gg/jrNQpbytUQ",children:"Subway Builder Discord"}),"."]}),"\n",(0,a.jsx)(n.p,{children:"After this, you should be done! If you have any issues or questions with either the Demand Data Generator or the Map Patcher, you can send a message in the #mod-support channel in the Subway Builder Discord for additional assistance."})]})}function D(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(R,{...e})}):R(e)}},1753(e,n,t){t.d(n,{R:()=>s,x:()=>r});var i=t(758);const a={},o=i.createContext(a);function s(e){const n=i.useContext(o);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:s(e.components),i.createElement(o.Provider,{value:n},e.children)}}}]);