"use strict";(self.webpackChunksubway_builder_modded_docs=self.webpackChunksubway_builder_modded_docs||[]).push([[854],{9635(e,n,a){a.r(n),a.d(n,{assets:()=>r,contentTitle:()=>o,default:()=>h,frontMatter:()=>d,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"common-patterns","title":"Patrones Comunes","description":"Recetas pr\xe1cticas para las cosas que har\xe1s con m\xe1s frecuencia al escribir mods.","source":"@site/i18n/es/docusaurus-plugin-content-docs-modding-docs/current/common-patterns.mdx","sourceDirName":".","slug":"/common-patterns","permalink":"/es/modding-docs/common-patterns","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"id":"common-patterns","title":"Patrones Comunes"},"sidebar":"docs","previous":{"title":"Estructura del Proyecto","permalink":"/es/modding-docs/project-structure"},"next":{"title":"Componentes de React","permalink":"/es/modding-docs/react-components"}}');var i=a(6070),t=a(1753);const d={id:"common-patterns",title:"Patrones Comunes"},o=void 0,r={},c=[{value:"Acceder a la API",id:"accessing-the-api",level:2},{value:"Inicializar un Mod",id:"initializing-a-mod",level:2},{value:"Agregar Paneles de UI",id:"adding-ui-panels",level:2},{value:"Panel Flotante",id:"floating-panel",level:3},{value:"Bot\xf3n en la Barra de Herramientas",id:"toolbar-button",level:3},{value:"Bot\xf3n en el Men\xfa Escape",id:"escape-menu-button",level:3},{value:"Controles en el Men\xfa de Configuraci\xf3n",id:"settings-menu-controls",level:3},{value:"Ubicaciones de UI",id:"ui-placements",level:3},{value:"Notificaciones",id:"notifications",level:3},{value:"Leer el Estado del Juego",id:"reading-game-state",level:2},{value:"Datos de Estaciones",id:"station-data",level:2},{value:"Datos de Pasajeros",id:"ridership-data",level:2},{value:"Reaccionar a Eventos",id:"reacting-to-events",level:2},{value:"Todos los Hooks Disponibles",id:"all-available-hooks",level:2},{value:"Modificar Acciones del Juego",id:"modifying-game-actions",level:2},{value:"Modificar Constantes del Juego",id:"modifying-game-constants",level:2},{value:"Construir V\xedas Program\xe1ticamente",id:"building-tracks-programatically",level:2},{value:"Crear Rutas y Agregar Trenes",id:"creating-routes-and-adding-trains",level:2},{value:"Almacenamiento Persistente",id:"persistent-storage",level:2}];function l(e){const n={admonition:"admonition",code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"Recetas pr\xe1cticas para las cosas que har\xe1s con m\xe1s frecuencia al escribir mods."}),"\n",(0,i.jsx)(n.h2,{id:"accessing-the-api",children:"Acceder a la API"}),"\n",(0,i.jsx)(n.p,{children:"Cada mod comienza con el objeto global de la API:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"const api = window.SubwayBuilderAPI;\n"})}),"\n",(0,i.jsx)(n.p,{children:"Siempre verifica que exista antes de usarlo:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"if (!api) {\n  console.error('[MyMod] \xa1SubwayBuilderAPI no encontrado!');\n} else {\n  // Seguro usar api\n}\n"})}),"\n",(0,i.jsx)(n.h2,{id:"initializing-a-mod",children:"Inicializar un Mod"}),"\n",(0,i.jsxs)(n.p,{children:["La mayor\xeda de los mods deben inicializarse dentro de ",(0,i.jsx)(n.code,{children:"onMapReady"}),", que se ejecuta cuando se carga\nuna ciudad y el mapa est\xe1 listo. Usa una protecci\xf3n para evitar una inicializaci\xf3n doble:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"let initialized = false;\n\napi.hooks.onMapReady((map) => {\n  if (initialized) return;\n  initialized = true;\n\n  // Tu c\xf3digo de configuraci\xf3n aqu\xed\n  console.log('[MyMod] \xa1Inicializado!');\n});\n"})}),"\n",(0,i.jsx)(n.admonition,{type:"note",children:(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"onMapReady"})," puede ejecutarse varias veces (por ejemplo, al cambiar de ciudad). La\nprotecci\xf3n ",(0,i.jsx)(n.code,{children:"initialized"})," asegura que tu UI y hooks se configuren solo una vez."]})}),"\n",(0,i.jsx)(n.h2,{id:"adding-ui-panels",children:"Agregar Paneles de UI"}),"\n",(0,i.jsx)(n.h3,{id:"floating-panel",children:"Panel Flotante"}),"\n",(0,i.jsx)(n.p,{children:"La forma m\xe1s com\xfan de agregar una UI de mod. Crea un panel arrastrable accesible desde la barra de\nherramientas:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"api.ui.addFloatingPanel({\n  id: 'my-panel',\n  title: 'Mi Panel',\n  icon: 'Settings', // Nombre del \xedcono Lucide (PascalCase)\n  render: MyComponent, // Un componente de React\n});\n"})}),"\n",(0,i.jsx)(n.h3,{id:"toolbar-button",children:"Bot\xf3n en la Barra de Herramientas"}),"\n",(0,i.jsx)(n.p,{children:"Agrega un bot\xf3n a la barra de herramientas principal del juego:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"api.ui.addToolbarButton({\n  id: 'my-button',\n  icon: 'Zap',\n  tooltip: 'Hacer algo',\n  onClick: () => {\n    api.ui.showNotification('\xa1Bot\xf3n presionado!', 'info');\n  },\n});\n"})}),"\n",(0,i.jsx)(n.h3,{id:"escape-menu-button",children:"Bot\xf3n en el Men\xfa Escape"}),"\n",(0,i.jsx)(n.p,{children:"Agrega un bot\xf3n al men\xfa de escape/pausa del juego:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"api.ui.addButton('escape-menu', {\n  id: 'my-menu-btn',\n  label: 'Configuraci\xf3n de mi mod',\n  onClick: () => {\n    // Abrir configuraci\xf3n, activar/desactivar funciones, etc.\n  },\n});\n"})}),"\n",(0,i.jsx)(n.h3,{id:"settings-menu-controls",children:"Controles en el Men\xfa de Configuraci\xf3n"}),"\n",(0,i.jsx)(n.p,{children:"Agrega interruptores, deslizadores y selectores al panel de configuraci\xf3n:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"api.ui.addToggle('settings-menu', {\n  id: 'my-toggle',\n  label: 'Activar funci\xf3n',\n  defaultValue: true,\n  onChange: (enabled) => {\n    console.log('Funci\xf3n:', enabled);\n  },\n});\n\napi.ui.addSlider('settings-menu', {\n  id: 'my-slider',\n  label: 'Multiplicador de velocidad',\n  min: 1,\n  max: 10,\n  step: 0.5,\n  defaultValue: 1,\n  onChange: (value) => {\n    console.log('Velocidad:', value);\n  },\n});\n"})}),"\n",(0,i.jsx)(n.h3,{id:"ui-placements",children:"Ubicaciones de UI"}),"\n",(0,i.jsxs)(n.p,{children:["El argumento ",(0,i.jsx)(n.code,{children:"placement"})," controla d\xf3nde aparecen los elementos de UI:"]}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Placement"}),(0,i.jsx)(n.th,{children:"D\xf3nde aparece"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"'settings-menu'"})}),(0,i.jsx)(n.td,{children:"Panel de configuraci\xf3n"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"'escape-menu'"})}),(0,i.jsx)(n.td,{children:"Cuerpo del men\xfa de escape/pausa"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"'escape-menu-buttons'"})}),(0,i.jsx)(n.td,{children:"Fila de botones del men\xfa de escape"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"'main-menu'"})}),(0,i.jsx)(n.td,{children:"Pantalla del men\xfa principal"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"'bottom-bar'"})}),(0,i.jsx)(n.td,{children:"\xc1rea de la barra inferior"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"'top-bar'"})}),(0,i.jsx)(n.td,{children:"\xc1rea de la barra superior"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"'debug-panel'"})}),(0,i.jsx)(n.td,{children:"Superposici\xf3n de depuraci\xf3n"})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"notifications",children:"Notificaciones"}),"\n",(0,i.jsx)(n.p,{children:"Muestra un mensaje emergente (toast) al jugador:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"api.ui.showNotification('\xa1Mapa cargado correctamente!', 'success');\napi.ui.showNotification('Algo sali\xf3 mal.', 'error');\napi.ui.showNotification('Consejo: intenta construir bajo tierra.', 'info');\napi.ui.showNotification('\xa1Fondos bajos!', 'warning');\n"})}),"\n",(0,i.jsx)(n.h2,{id:"reading-game-state",children:"Leer el Estado del Juego"}),"\n",(0,i.jsxs)(n.p,{children:["Todo el estado del juego es de solo lectura y se accede a trav\xe9s de ",(0,i.jsx)(n.code,{children:"api.gameState"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"// Estaciones, rutas, v\xedas, trenes\nconst stations = api.gameState.getStations();\nconst routes = api.gameState.getRoutes();\nconst tracks = api.gameState.getTracks();\nconst trains = api.gameState.getTrains();\n\n// Finanzas\nconst budget = api.gameState.getBudget();\nconst ticketPrice = api.gameState.getTicketPrice();\n\n// Tiempo\nconst day = api.gameState.getCurrentDay();\nconst hour = api.gameState.getCurrentHour();\n\n// Rendimiento\nconst ridership = api.gameState.getRidershipStats();\nconst modeChoice = api.gameState.getModeChoiceStats();\nconst lineMetrics = api.gameState.getLineMetrics();\n"})}),"\n",(0,i.jsx)(n.h2,{id:"station-data",children:"Datos de Estaciones"}),"\n",(0,i.jsx)(n.p,{children:"Cada estaci\xf3n tiene coordenadas, IDs de v\xedas e informaci\xf3n de estaciones cercanas:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"const stations = api.gameState.getStations();\n\nfor (const station of stations) {\n  console.log(station.name, station.coords); // [longitud, latitud]\n  console.log('V\xedas:', station.trackIds.length);\n  console.log(\n    'Cercanas:',\n    station.nearbyStations.map((n) => n.stationId),\n  );\n}\n"})}),"\n",(0,i.jsx)(n.h2,{id:"ridership-data",children:"Datos de Pasajeros"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"// Estad\xedsticas generales\nconst stats = api.gameState.getRidershipStats();\nconsole.log(`${stats.totalRidersPerHour} pasajeros/hora`);\n\n// Por estaci\xf3n\nconst stationData = api.gameState.getStationRidership('station-uuid-here');\nconsole.log(`${stationData.total} pasajeros en esta estaci\xf3n`);\n\n// Por ruta\nconst routeData = api.gameState.getRouteRidership('route-uuid-here');\n"})}),"\n",(0,i.jsx)(n.h2,{id:"reacting-to-events",children:"Reaccionar a Eventos"}),"\n",(0,i.jsxs)(n.p,{children:["Registra callbacks para eventos del juego usando ",(0,i.jsx)(n.code,{children:"api.hooks"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"// Reaccionar a nuevas estaciones\napi.hooks.onStationBuilt((station) => {\n  console.log(`Nueva estaci\xf3n: ${station.name} en ${station.coords}`);\n});\n\n// Reaccionar a cambios de dinero\napi.hooks.onMoneyChanged((balance, change, type, category) => {\n  if (type === 'expense' && change > 1000000) {\n    api.ui.showNotification('\xa1Gran compra!', 'info');\n  }\n});\n\n// Reaccionar a cambios de d\xeda\napi.hooks.onDayChange((day) => {\n  console.log(`D\xeda ${day}`);\n});\n\n// Reaccionar a cambios de velocidad\napi.hooks.onSpeedChanged((speed) => {\n  console.log(`Velocidad: ${speed}`); // 'slow' | 'normal' | 'fast' | 'ultrafast'\n});\n\n// Reaccionar a guardados del juego\napi.hooks.onGameSaved((saveName) => {\n  console.log(`Juego guardado: ${saveName}`);\n});\n"})}),"\n",(0,i.jsx)(n.h2,{id:"all-available-hooks",children:"Todos los Hooks Disponibles"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Hook"}),(0,i.jsx)(n.th,{children:"Argumentos del callback"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"onGameInit"})}),(0,i.jsx)(n.td,{children:"(ninguno)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"onDayChange"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"day: number"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"onCityLoad"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"cityCode: string"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"onMapReady"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"map: MapLibreMap"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"onStationBuilt"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"station: Station"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"onStationDeleted"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"stationId: string"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"onRouteCreated"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"route: Route"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"onRouteDeleted"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"routeId: string, routeBullet: string"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"onTrackBuilt"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"tracks: Track[]"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"onBlueprintPlaced"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"tracks: Track[]"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"onDemandChange"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"popCount: number"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"onTrackChange"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"changeType: 'add' | 'delete', count: number"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"onTrainSpawned"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"train: Train"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"onTrainDeleted"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"trainId: string, routeId: string"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"onPauseChanged"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"isPaused: boolean"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"onSpeedChanged"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"newSpeed: GameSpeed"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"onMoneyChanged"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"newBalance, change, type, category?"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"onGameSaved"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"saveName: string"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"onGameLoaded"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"saveName: string"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"onWarning"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"message: string"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"onError"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"error: string"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"onGameEnd"})}),(0,i.jsx)(n.td,{children:"(ninguno)"})]})]})]}),"\n",(0,i.jsx)(n.h2,{id:"modifying-game-actions",children:"Modificar Acciones del Juego"}),"\n",(0,i.jsxs)(n.p,{children:["Usa ",(0,i.jsx)(n.code,{children:"api.actions"})," para cambiar el estado del juego:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"// Dinero\napi.actions.setMoney(5000000);\napi.actions.addMoney(1000000, 'grant');\napi.actions.subtractMoney(500000, 'maintenance');\n\n// Control del juego\napi.actions.setPause(true);\napi.actions.setSpeed('fast'); // 'slow' | 'normal' | 'fast' | 'ultrafast'\n\n// Precio del boleto\napi.actions.setTicketPrice(5);\n"})}),"\n",(0,i.jsx)(n.h2,{id:"modifying-game-constants",children:"Modificar Constantes del Juego"}),"\n",(0,i.jsx)(n.p,{children:"Ajusta las reglas del juego:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"api.modifyConstants({\n  STARTING_MONEY: 10000000000, // 10 mil millones\n  DEFAULT_TICKET_COST: 5,\n  CONSTRUCTION_COSTS: {\n    TUNNEL: { SINGLE_MULTIPLIER: 0.5 }, // T\xfaneles a mitad de precio\n  },\n});\n"})}),"\n",(0,i.jsx)(n.admonition,{type:"important",children:(0,i.jsxs)(n.p,{children:["Llama a ",(0,i.jsx)(n.code,{children:"modifyConstants()"})," temprano \u2014 idealmente antes de ",(0,i.jsx)(n.code,{children:"onMapReady"}),". Las constantes\nafectan toda la sesi\xf3n del juego."]})}),"\n",(0,i.jsx)(n.h2,{id:"building-tracks-programatically",children:"Construir V\xedas Program\xe1ticamente"}),"\n",(0,i.jsxs)(n.p,{children:["Usa ",(0,i.jsx)(n.code,{children:"api.build"})," para colocar y construir v\xedas mediante c\xf3digo:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"// Colocar v\xedas en plano\nconst result = api.build.placeBlueprintTracks([\n  {\n    coords: [\n      [-74.006, 40.7128],\n      [-74.009, 40.715],\n    ], // pares [lng, lat]\n    trackType: 'heavy-metro',\n    startElevation: -15, // subterr\xe1neo\n    endElevation: -15,\n  },\n]);\n\nif (result.success) {\n  console.log(`Se colocaron ${result.trackIds.length} v\xedas`);\n\n  // Construir los planos (cuesta dinero)\n  const buildResult = await api.build.buildBlueprints();\n  console.log(\n    `Se construyeron ${buildResult.builtTrackCount} v\xedas, costo: $${buildResult.totalCost}`,\n  );\n}\n"})}),"\n",(0,i.jsx)(n.h2,{id:"creating-routes-and-adding-trains",children:"Crear Rutas y Agregar Trenes"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"// Crear una nueva ruta\nconst route = api.build.createRoute({\n  bullet: 'A',\n  color: '#0039A6',\n  textColor: '#FFFFFF',\n  shape: 'circle',\n  trainType: 'heavy-metro',\n});\n\nif (route.success && route.route) {\n  // Comprar trenes y agregarlos a la ruta\n  api.build.buyTrains(4, 'heavy-metro');\n  api.build.addTrainToRoute(route.route.id, 0); // Agregar en la primera estaci\xf3n\n}\n"})}),"\n",(0,i.jsx)(n.h2,{id:"persistent-storage",children:"Almacenamiento Persistente"}),"\n",(0,i.jsx)(n.p,{children:"Guarda datos del mod entre sesiones (solo aplicaci\xf3n de escritorio):"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"// Guardar\nawait api.storage.set('highScore', 42);\nawait api.storage.set('settings', { sound: true, difficulty: 'hard' });\n\n// Cargar\nconst score = await api.storage.get('highScore', 0);\nconst settings = await api.storage.get('settings', { sound: true, difficulty: 'normal' });\n\n// Eliminar\nawait api.storage.delete('highScore');\n\n// Listar todas las claves\nconst keys = await api.storage.keys();\n"})}),"\n",(0,i.jsx)(n.admonition,{type:"note",children:(0,i.jsxs)(n.p,{children:["El almacenamiento solo funciona en la aplicaci\xf3n de escritorio (Electron). En la versi\xf3n del\nnavegador, ",(0,i.jsx)(n.code,{children:"set"})," no hace nada y ",(0,i.jsx)(n.code,{children:"get"})," siempre devuelve el valor predeterminado."]})})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},1753(e,n,a){a.d(n,{R:()=>d,x:()=>o});var s=a(758);const i={},t=s.createContext(i);function d(e){const n=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:d(e.components),s.createElement(t.Provider,{value:n},e.children)}}}]);